<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 NASA’s Earth Observing System (EOS) | Environmental Informatics Using Research Infrastructures and their Data</title>
  <meta name="description" content="Course text for NAU INF 550" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 NASA’s Earth Observing System (EOS) | Environmental Informatics Using Research Infrastructures and their Data" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="/Users/kdw223/Research/katharynduffy.github.io/images/EcoInfo4.png" />
  <meta property="og:description" content="Course text for NAU INF 550" />
  <meta name="github-repo" content="katharynduffy/katharynduffy.github.io" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 NASA’s Earth Observing System (EOS) | Environmental Informatics Using Research Infrastructures and their Data" />
  
  <meta name="twitter:description" content="Course text for NAU INF 550" />
  <meta name="twitter:image" content="/Users/kdw223/Research/katharynduffy.github.io/images/EcoInfo4.png" />

<meta name="author" content="Dr. Katharyn Duffy, Dr. Ben Ruddell" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="neon-aop.html"/>
<link rel="next" href="usgs-national-water-information-system-nwis.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">INF550: EcoInformatics data collection tools & products, </a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgements"><i class="fa fa-check"></i>Acknowledgements</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#key-contributors"><i class="fa fa-check"></i>Key Contributors</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html"><i class="fa fa-check"></i>Pre-Course Setup: EcoInformatics Tools</a><ul>
<li class="chapter" data-level="0.1" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#pre-course-skills-setup"><i class="fa fa-check"></i><b>0.1</b> Pre-Course Skills &amp; Setup</a><ul>
<li class="chapter" data-level="0.1.1" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#installing-or-updating-r"><i class="fa fa-check"></i><b>0.1.1</b> Installing or Updating R</a></li>
<li class="chapter" data-level="0.1.2" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#windows-rrstudio-setup"><i class="fa fa-check"></i><b>0.1.2</b> Windows R/RStudio Setup</a></li>
<li class="chapter" data-level="0.1.3" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#mac-rrstudio-setup"><i class="fa fa-check"></i><b>0.1.3</b> Mac R/RStudio Setup</a></li>
</ul></li>
<li class="chapter" data-level="0.2" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#linux-rrstudio-setup"><i class="fa fa-check"></i><b>0.2</b> Linux R/RStudio Setup</a><ul>
<li class="chapter" data-level="0.2.1" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#install-basic-packages-for-this-course"><i class="fa fa-check"></i><b>0.2.1</b> Install basic packages for this course</a></li>
</ul></li>
<li class="chapter" data-level="0.3" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#installing-and-setting-up-git-github-on-your-machine"><i class="fa fa-check"></i><b>0.3</b> Installing and Setting up Git &amp; Github on Your Machine</a></li>
<li class="chapter" data-level="0.4" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#installing-atom"><i class="fa fa-check"></i><b>0.4</b> Installing Atom</a></li>
<li class="chapter" data-level="0.5" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#linking-rstudio-to-git"><i class="fa fa-check"></i><b>0.5</b> Linking RStudio to Git</a></li>
<li class="chapter" data-level="0.6" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#how-we-will-be-conducting-this-course"><i class="fa fa-check"></i><b>0.6</b> How we will be Conducting this Course</a></li>
<li class="chapter" data-level="0.7" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#exercises"><i class="fa fa-check"></i><b>0.7</b> Exercises:</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="why-ecoinformatics.html"><a href="why-ecoinformatics.html"><i class="fa fa-check"></i><b>1</b> Why ‘EcoInformatics’?</a><ul>
<li class="chapter" data-level="1.1" data-path="why-ecoinformatics.html"><a href="why-ecoinformatics.html#the-framework-of-this-course"><i class="fa fa-check"></i><b>1.1</b> The Framework of this Course</a></li>
<li class="chapter" data-level="1.2" data-path="why-ecoinformatics.html"><a href="why-ecoinformatics.html#final-course-project-proposed-derived-data-product"><i class="fa fa-check"></i><b>1.2</b> Final Course Project: Proposed Derived Data Product</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html"><i class="fa fa-check"></i><b>2</b> Introduction to NEON &amp; its Data</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#learning-objectives"><i class="fa fa-check"></i><b>2.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="2.2" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#the-neon-project-mission-design"><i class="fa fa-check"></i><b>2.2</b> The NEON Project Mission &amp; Design</a></li>
<li class="chapter" data-level="2.3" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#the-science-and-design-of-neon"><i class="fa fa-check"></i><b>2.3</b> The Science and Design of NEON</a></li>
<li class="chapter" data-level="2.4" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#neons-spatial-design"><i class="fa fa-check"></i><b>2.4</b> NEON’s Spatial Design</a><ul>
<li class="chapter" data-level="2.4.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#neon-samples-all-20-eco-regions"><i class="fa fa-check"></i><b>2.4.1</b> NEON Samples All 20 Eco-Regions</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#how-neon-collects-data"><i class="fa fa-check"></i><b>2.5</b> How NEON Collects Data</a><ul>
<li class="chapter" data-level="2.5.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#specimens-samples"><i class="fa fa-check"></i><b>2.5.1</b> Specimens &amp; Samples</a></li>
<li class="chapter" data-level="2.5.2" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#airborne-remote-sensing"><i class="fa fa-check"></i><b>2.5.2</b> Airborne Remote Sensing</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#accessing-neon-data"><i class="fa fa-check"></i><b>2.6</b> Accessing NEON Data</a><ul>
<li class="chapter" data-level="2.6.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#pathways-to-access-neon-data"><i class="fa fa-check"></i><b>2.6.1</b> Pathways to access NEON Data</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#hands-on-accessing-neon-data-user-tokens"><i class="fa fa-check"></i><b>2.7</b> Hands on: Accessing NEON Data &amp; User Tokens</a><ul>
<li class="chapter" data-level="2.7.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#via-the-neon-api-with-your-user-token"><i class="fa fa-check"></i><b>2.7.1</b> Via the NEON API, with your User Token</a></li>
<li class="chapter" data-level="2.7.2" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#get-a-neon-api-token"><i class="fa fa-check"></i><b>2.7.2</b> Get a NEON API Token</a></li>
<li class="chapter" data-level="2.7.3" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#use-the-api-token-in-neonutilities"><i class="fa fa-check"></i><b>2.7.3</b> Use the API token in neonUtilities</a></li>
<li class="chapter" data-level="2.7.4" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#token-management-for-open-code"><i class="fa fa-check"></i><b>2.7.4</b> Token management for open code</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#hands-on-neon-tos-data"><i class="fa fa-check"></i><b>2.8</b> Hands on: NEON TOS Data</a><ul>
<li class="chapter" data-level="2.8.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#pull-in-tree-data-from-neons-tos-and-investigate-relationships"><i class="fa fa-check"></i><b>2.8.1</b> Pull in Tree Data from NEON’s TOS and investigate relationships</a></li>
</ul></li>
<li class="chapter" data-level="2.9" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#intro-to-neon-exercises-part-1"><i class="fa fa-check"></i><b>2.9</b> Intro to NEON Exercises Part 1</a><ul>
<li class="chapter" data-level="2.9.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#computational"><i class="fa fa-check"></i><b>2.9.1</b> Computational</a></li>
</ul></li>
<li class="chapter" data-level="2.10" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#part-2-pulling-neon-data-via-the-api"><i class="fa fa-check"></i><b>2.10</b> Part 2: Pulling NEON Data via the API</a></li>
<li class="chapter" data-level="2.11" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#what-is-an-api"><i class="fa fa-check"></i><b>2.11</b> What is an API?</a><ul>
<li class="chapter" data-level="2.11.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#anatomy-of-an-api-call"><i class="fa fa-check"></i><b>2.11.1</b> Anatomy of an API call</a></li>
<li class="chapter" data-level="2.11.2" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#targets"><i class="fa fa-check"></i><b>2.11.2</b> Targets:</a></li>
<li class="chapter" data-level="2.11.3" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#observational-data-os"><i class="fa fa-check"></i><b>2.11.3</b> Observational data (OS)</a></li>
<li class="chapter" data-level="2.11.4" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#instrumentation-data-is"><i class="fa fa-check"></i><b>2.11.4</b> Instrumentation data (IS)</a></li>
<li class="chapter" data-level="2.11.5" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#remote-sensing-data-aop"><i class="fa fa-check"></i><b>2.11.5</b> Remote sensing data (AOP)</a></li>
<li class="chapter" data-level="2.11.6" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#geolocation-data"><i class="fa fa-check"></i><b>2.11.6</b> Geolocation data</a></li>
<li class="chapter" data-level="2.11.7" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#querying-a-single-named-location"><i class="fa fa-check"></i><b>2.11.7</b> Querying a single named location</a></li>
<li class="chapter" data-level="2.11.8" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#taxonomy"><i class="fa fa-check"></i><b>2.11.8</b> Taxonomy</a></li>
</ul></li>
<li class="chapter" data-level="2.12" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#stacking-neon-data"><i class="fa fa-check"></i><b>2.12</b> Stacking NEON data</a></li>
<li class="chapter" data-level="2.13" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#intro-to-neon-exercises-written-questions"><i class="fa fa-check"></i><b>2.13</b> Intro to NEON Exercises: Written Questions</a></li>
<li class="chapter" data-level="2.14" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#intro-to-neon-exercises-part-2"><i class="fa fa-check"></i><b>2.14</b> Intro to NEON Exercises Part 2</a><ul>
<li class="chapter" data-level="2.14.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#written"><i class="fa fa-check"></i><b>2.14.1</b> Written</a></li>
<li class="chapter" data-level="2.14.2" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#neon-coding-lab-part-2"><i class="fa fa-check"></i><b>2.14.2</b> NEON Coding Lab Part 2</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#neon-coding-lab-part-2-1"><i class="fa fa-check"></i><b>2.15</b> NEON Coding Lab Part 2</a></li>
<li class="chapter" data-level="2.16" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#intro-to-neon-culmination-activity"><i class="fa fa-check"></i><b>2.16</b> Intro to NEON Culmination Activity</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html"><i class="fa fa-check"></i><b>3</b> Introduction to USA-NPN &amp; its Data</a><ul>
<li class="chapter" data-level="3.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#hands-on-accessing-usa-npn-data-via-rnpn"><i class="fa fa-check"></i><b>3.1</b> Hands on: Accessing USA-NPN Data via rNPN</a><ul>
<li class="chapter" data-level="3.1.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#introduction"><i class="fa fa-check"></i><b>3.1.1</b> Introduction</a></li>
<li class="chapter" data-level="3.1.2" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#accessing-usa-npn-observational-data"><i class="fa fa-check"></i><b>3.1.2</b> Accessing USA-NPN Observational Data</a></li>
<li class="chapter" data-level="3.1.3" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#status-and-intensity-data"><i class="fa fa-check"></i><b>3.1.3</b> Status and Intensity Data</a></li>
<li class="chapter" data-level="3.1.4" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#individual-phenometrics"><i class="fa fa-check"></i><b>3.1.4</b> Individual Phenometrics</a></li>
<li class="chapter" data-level="3.1.5" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#site-phenometrics"><i class="fa fa-check"></i><b>3.1.5</b> Site Phenometrics</a></li>
<li class="chapter" data-level="3.1.6" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#magnitude-phenometrics"><i class="fa fa-check"></i><b>3.1.6</b> Magnitude Phenometrics</a></li>
<li class="chapter" data-level="3.1.7" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#usa-npn-geospatial-data"><i class="fa fa-check"></i><b>3.1.7</b> USA-NPN Geospatial Data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#accumulated-growing-degree-day-products"><i class="fa fa-check"></i><b>3.2</b> Accumulated Growing Degree Day Products</a></li>
<li class="chapter" data-level="3.3" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#extended-spring-indices"><i class="fa fa-check"></i><b>3.3</b> Extended Spring Indices</a><ul>
<li class="chapter" data-level="3.3.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#other-layers"><i class="fa fa-check"></i><b>3.3.1</b> Other Layers</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#putting-it-all-together"><i class="fa fa-check"></i><b>3.4</b> Putting it all together:</a></li>
<li class="chapter" data-level="3.5" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#combine-point-and-raster-data"><i class="fa fa-check"></i><b>3.5</b> Combine Point and Raster Data</a><ul>
<li class="chapter" data-level="3.5.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#step-1-get-the-data"><i class="fa fa-check"></i><b>3.5.1</b> Step 1: Get the data</a></li>
<li class="chapter" data-level="3.5.2" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#step-2-preparing-the-data"><i class="fa fa-check"></i><b>3.5.2</b> Step 2: Preparing the data</a></li>
<li class="chapter" data-level="3.5.3" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#step-3-define-style-options-and-create-graph"><i class="fa fa-check"></i><b>3.5.3</b> Step 3: Define style options and create graph</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#live-demo-code-with-lee-marsh-of-usa-npn"><i class="fa fa-check"></i><b>3.6</b> Live Demo Code with Lee Marsh of USA-NPN</a><ul>
<li class="chapter" data-level="3.6.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#basic-utility-functions"><i class="fa fa-check"></i><b>3.6.1</b> Basic Utility Functions</a></li>
<li class="chapter" data-level="3.6.2" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#download-observational-data"><i class="fa fa-check"></i><b>3.6.2</b> Download Observational Data</a></li>
<li class="chapter" data-level="3.6.3" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#magnitude-data"><i class="fa fa-check"></i><b>3.6.3</b> Magnitude Data</a></li>
<li class="chapter" data-level="3.6.4" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#downloading-geospatial-data"><i class="fa fa-check"></i><b>3.6.4</b> Downloading Geospatial Data</a></li>
<li class="chapter" data-level="3.6.5" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#putting-it-together"><i class="fa fa-check"></i><b>3.6.5</b> Putting it together</a></li>
<li class="chapter" data-level="3.6.6" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#other-data-sources-e.g.daymet-modis"><i class="fa fa-check"></i><b>3.6.6</b> Other Data Sources, e.g. Daymet, MODIS</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#usa-npn-coding-lab"><i class="fa fa-check"></i><b>3.7</b> USA-NPN Coding Lab</a></li>
<li class="chapter" data-level="3.8" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#neon-tos-phenology-data-lecture"><i class="fa fa-check"></i><b>3.8</b> NEON TOS Phenology Data Lecture</a></li>
<li class="chapter" data-level="3.9" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#understanding-observation-biases-and-censoring-in-citizen-science-data"><i class="fa fa-check"></i><b>3.9</b> Understanding Observation Biases and Censoring in Citizen Science Data</a><ul>
<li class="chapter" data-level="3.9.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#many-existing-modeling-approaches-fail-in-one-or-both-regards."><i class="fa fa-check"></i><b>3.9.1</b> Many existing modeling approaches fail in one (or both) regards.</a></li>
<li class="chapter" data-level="3.9.2" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#censoring"><i class="fa fa-check"></i><b>3.9.2</b> Censoring</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#so-then-how-can-we-model-censored-data"><i class="fa fa-check"></i><b>3.10</b> So then how can we model censored data?</a></li>
<li class="chapter" data-level="3.11" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#intro-to-usa-npn-culmination-activity"><i class="fa fa-check"></i><b>3.11</b> <strong>Intro to USA-NPN Culmination Activity</strong></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html"><i class="fa fa-check"></i><b>4</b> PhenoCam: Digital Repeat Photography Networks &amp; Methods</a><ul>
<li class="chapter" data-level="4.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#digital-repeat-photography-networks-learning-objectives"><i class="fa fa-check"></i><b>4.1</b> Digital Repeat Photography Networks Learning Objectives</a></li>
<li class="chapter" data-level="4.2" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#the-phenocam-network-mission-design"><i class="fa fa-check"></i><b>4.2</b> The PhenoCam Network Mission &amp; Design</a><ul>
<li class="chapter" data-level="4.2.1" data-path="introduction-to-usa-npn-its-data.html"><a href="introduction-to-usa-npn-its-data.html#relevant-documents-background-information"><i class="fa fa-check"></i><b>4.2.1</b> Relevant documents &amp; background information:</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#phenocams-spatial-design"><i class="fa fa-check"></i><b>4.3</b> PhenoCam’s Spatial design:</a><ul>
<li class="chapter" data-level="4.3.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#phenocam-as-a-near-surface-remote-sensing-technique"><i class="fa fa-check"></i><b>4.3.1</b> PhenoCam as a Near Surface Remote Sensing Technique</a></li>
<li class="chapter" data-level="4.3.2" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#how-phenocams-pull-data"><i class="fa fa-check"></i><b>4.3.2</b> How PhenoCams Pull Data</a></li>
<li class="chapter" data-level="4.3.3" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#leveraging-camera-near-infrared-nir-capabilities"><i class="fa fa-check"></i><b>4.3.3</b> Leveraging camera near-infrared (NIR) capabilities</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#digital-repeat-photography-written-questions"><i class="fa fa-check"></i><b>4.4</b> Digital Repeat Photography Written Questions</a></li>
<li class="chapter" data-level="4.5" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#introduction-to-digital-repeat-photography-methods"><i class="fa fa-check"></i><b>4.5</b> Introduction to Digital Repeat Photography Methods</a></li>
<li class="chapter" data-level="4.6" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#pulling-data-via-the-phenocamapi-package"><i class="fa fa-check"></i><b>4.6</b> Pulling Data via the <em>phenocamapi</em> Package</a></li>
<li class="chapter" data-level="4.7" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#exploring-phenocam-metadata"><i class="fa fa-check"></i><b>4.7</b> Exploring PhenoCam metadata</a><ul>
<li class="chapter" data-level="4.7.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#remove-null-values"><i class="fa fa-check"></i><b>4.7.1</b> Remove null values</a></li>
<li class="chapter" data-level="4.7.2" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#filtering-using-attributes"><i class="fa fa-check"></i><b>4.7.2</b> Filtering using attributes</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#download-midday-images"><i class="fa fa-check"></i><b>4.8</b> Download midday images</a><ul>
<li class="chapter" data-level="4.8.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#download-midday-images-for-a-given-time-range"><i class="fa fa-check"></i><b>4.8.1</b> Download midday images for a given time range</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#detecting-foggy-images-using-the-hazer-r-package"><i class="fa fa-check"></i><b>4.9</b> Detecting Foggy Images using the ‘hazer’ R Package</a></li>
<li class="chapter" data-level="4.10" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#extracting-timeseries-from-images-using-the-xroi-r-package"><i class="fa fa-check"></i><b>4.10</b> Extracting Timeseries from Images using the xROI R Package</a><ul>
<li class="chapter" data-level="4.10.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#xroi-design"><i class="fa fa-check"></i><b>4.10.1</b> xROI Design</a></li>
<li class="chapter" data-level="4.10.2" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#install-xroi"><i class="fa fa-check"></i><b>4.10.2</b> Install xROI</a></li>
<li class="chapter" data-level="4.10.3" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#launch-xroi"><i class="fa fa-check"></i><b>4.10.3</b> Launch xROI</a></li>
<li class="chapter" data-level="4.10.4" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#end-xroi"><i class="fa fa-check"></i><b>4.10.4</b> End xROI</a></li>
<li class="chapter" data-level="4.10.5" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#use-xroi"><i class="fa fa-check"></i><b>4.10.5</b> Use xROI</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#documentation-and-citation"><i class="fa fa-check"></i><b>4.11</b> Documentation and Citation</a><ul>
<li class="chapter" data-level="4.11.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#challenge-use-xroi"><i class="fa fa-check"></i><b>4.11.1</b> Challenge: Use xROI</a></li>
</ul></li>
<li class="chapter" data-level="4.12" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#hands-on-digital-repeat-photography-computational"><i class="fa fa-check"></i><b>4.12</b> Hands on: Digital Repeat Photography Computational</a><ul>
<li class="chapter" data-level="4.12.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#phenocam-time-series"><i class="fa fa-check"></i><b>4.12.1</b> PhenoCam time series</a></li>
<li class="chapter" data-level="4.12.2" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#obtain-rois"><i class="fa fa-check"></i><b>4.12.2</b> Obtain ROIs</a></li>
<li class="chapter" data-level="4.12.3" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#download-time-series"><i class="fa fa-check"></i><b>4.12.3</b> Download time series</a></li>
<li class="chapter" data-level="4.12.4" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#threshold-values"><i class="fa fa-check"></i><b>4.12.4</b> Threshold values</a></li>
<li class="chapter" data-level="4.12.5" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#comparing-phenology-across-vegetation-types"><i class="fa fa-check"></i><b>4.12.5</b> Comparing phenology across vegetation types</a></li>
<li class="chapter" data-level="4.12.6" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#in-class-hands-on-coding-comparing-phenology-of-the-same-plant-function-type-pft-across-climate-space"><i class="fa fa-check"></i><b>4.12.6</b> In Class Hands-on Coding: Comparing phenology of the same plant function type (PFT) across climate space</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#digital-repeat-photography-coding-lab"><i class="fa fa-check"></i><b>4.13</b> Digital Repeat Photography Coding Lab</a><ul>
<li class="chapter" data-level="4.13.1" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#quantifying-haze-and-redness-to-evaluate-california-wildfires"><i class="fa fa-check"></i><b>4.13.1</b> Quantifying haze and redness to evaluate California wildfires</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="phenocam-digital-repeat-photography-networks-methods.html"><a href="phenocam-digital-repeat-photography-networks-methods.html#intro-to-phenocam-culmination-activity"><i class="fa fa-check"></i><b>4.14</b> <strong>Intro to PhenoCam Culmination Activity</strong></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html"><i class="fa fa-check"></i><b>5</b> Flux Measurements &amp; Inter-Operability</a><ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#learning-objectives"><i class="fa fa-check"></i><b>5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="5.2" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#eddy-co_variance-data-what-does-it-actually-measure"><i class="fa fa-check"></i><b>5.2</b> Eddy Co_variance Data: What does it actually measure?</a><ul>
<li class="chapter" data-level="5.2.1" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#example-eddy-site"><i class="fa fa-check"></i><b>5.2.1</b> Example Eddy Site</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#qaqc-flags"><i class="fa fa-check"></i><b>5.3</b> QA/QC Flags</a></li>
<li class="chapter" data-level="5.4" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#examples-of-other-flux-networks-ameriflux-fluxnet"><i class="fa fa-check"></i><b>5.4</b> Examples of Other Flux Networks: AMERIFLUX &amp; FLUXNET</a></li>
<li class="chapter" data-level="5.5" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#the-power-of-networked-ecology-bridging-to-ameriflux-and-beyond"><i class="fa fa-check"></i><b>5.5</b> The Power of Networked Ecology: Bridging to AMERIFLUX and Beyond</a></li>
<li class="chapter" data-level="5.6" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#hands-on-introduction-to-working-with-neon-eddy-flux-data"><i class="fa fa-check"></i><b>5.6</b> Hands On: Introduction to working with NEON eddy flux data</a><ul>
<li class="chapter" data-level="5.6.1" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#setup"><i class="fa fa-check"></i><b>5.6.1</b> Setup</a></li>
<li class="chapter" data-level="5.6.2" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#data-levels"><i class="fa fa-check"></i><b>5.6.2</b> Data Levels</a></li>
<li class="chapter" data-level="5.6.3" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#extract-level-4-data-fluxes"><i class="fa fa-check"></i><b>5.6.3</b> Extract Level 4 data (Fluxes!)</a></li>
<li class="chapter" data-level="5.6.4" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#time-stamps"><i class="fa fa-check"></i><b>5.6.4</b> Time stamps</a></li>
<li class="chapter" data-level="5.6.5" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#merge-flux-data-with-other-sensor-data"><i class="fa fa-check"></i><b>5.6.5</b> Merge flux data with other sensor data</a></li>
<li class="chapter" data-level="5.6.6" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#vertical-profile-data-level-3"><i class="fa fa-check"></i><b>5.6.6</b> Vertical profile data (Level 3)</a></li>
<li class="chapter" data-level="5.6.7" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#un-interpolated-vertical-profile-data-level-2"><i class="fa fa-check"></i><b>5.6.7</b> Un-interpolated vertical profile data (Level 2)</a></li>
<li class="chapter" data-level="5.6.8" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#calibrated-raw-data-level-1"><i class="fa fa-check"></i><b>5.6.8</b> Calibrated raw data (Level 1)</a></li>
<li class="chapter" data-level="5.6.9" data-path="flux-measurements-inter-operability.html"><a href="flux-measurements-inter-operability.html#convert-neon-flux-data-variables-to-ameriflux-fp-standard"><i class="fa fa-check"></i><b>5.6.9</b> Convert NEON flux data variables to AmeriFlux FP standard</a></li>
</ul></li>
<li class="chapter" data-level="5.7" data-path="pre-course-setup-ecoinformatics-tools.html"><a href="pre-course-setup-ecoinformatics-tools.html#exercises"><i class="fa fa-check"></i><b>5.7</b> Exercises</a><ul>
<li class="chapter" data-level="5.7.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#computational"><i class="fa fa-check"></i><b>5.7.1</b> Computational</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="neon-aop.html"><a href="neon-aop.html"><i class="fa fa-check"></i><b>6</b> NEON AOP</a><ul>
<li class="chapter" data-level="6.1" data-path="neon-aop.html"><a href="neon-aop.html#hyperspectral-remote-sensing"><i class="fa fa-check"></i><b>6.1</b> Hyperspectral Remote Sensing</a><ul>
<li class="chapter" data-level="6.1.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#learning-objectives"><i class="fa fa-check"></i><b>6.1.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.1.2" data-path="neon-aop.html"><a href="neon-aop.html#about-hyperspectral-remote-sensing-data"><i class="fa fa-check"></i><b>6.1.2</b> About Hyperspectral Remote Sensing Data</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="neon-aop.html"><a href="neon-aop.html#key-metadata-for-hyperspectral-data"><i class="fa fa-check"></i><b>6.2</b> Key Metadata for Hyperspectral Data</a><ul>
<li class="chapter" data-level="6.2.1" data-path="neon-aop.html"><a href="neon-aop.html#bands-and-wavelengths"><i class="fa fa-check"></i><b>6.2.1</b> Bands and Wavelengths</a></li>
<li class="chapter" data-level="6.2.2" data-path="neon-aop.html"><a href="neon-aop.html#spectral-resolution"><i class="fa fa-check"></i><b>6.2.2</b> Spectral Resolution</a></li>
<li class="chapter" data-level="6.2.3" data-path="neon-aop.html"><a href="neon-aop.html#full-width-half-max-fwhm"><i class="fa fa-check"></i><b>6.2.3</b> Full Width Half Max (FWHM)</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="neon-aop.html"><a href="neon-aop.html#intro-to-working-with-hyperspectral-remote-sensing-data-in-hdf5-format"><i class="fa fa-check"></i><b>6.3</b> Intro to Working with Hyperspectral Remote Sensing Data in HDF5 Format</a></li>
<li class="chapter" data-level="6.4" data-path="neon-aop.html"><a href="neon-aop.html#light-detection-and-ranging-lidar-data"><i class="fa fa-check"></i><b>6.4</b> Light Detection And Ranging (LiDAR) Data</a></li>
<li class="chapter" data-level="6.5" data-path="neon-aop.html"><a href="neon-aop.html#calculating-forest-structural-diversity-metrics-from-neon-lidar-data"><i class="fa fa-check"></i><b>6.5</b> Calculating Forest Structural Diversity Metrics from NEON LiDAR Data</a><ul>
<li class="chapter" data-level="6.5.1" data-path="neon-aop.html"><a href="neon-aop.html#learning-objectives-2"><i class="fa fa-check"></i><b>6.5.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.5.2" data-path="neon-aop.html"><a href="neon-aop.html#r-libraries-to-install-1"><i class="fa fa-check"></i><b>6.5.2</b> R Libraries to Install:</a></li>
<li class="chapter" data-level="6.5.3" data-path="neon-aop.html"><a href="neon-aop.html#data-to-download-1"><i class="fa fa-check"></i><b>6.5.3</b> Data to Download</a></li>
<li class="chapter" data-level="6.5.4" data-path="neon-aop.html"><a href="neon-aop.html#recommended-skills"><i class="fa fa-check"></i><b>6.5.4</b> Recommended Skills</a></li>
<li class="chapter" data-level="6.5.5" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#additional-resources"><i class="fa fa-check"></i><b>6.5.5</b> Additional Resources</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="neon-aop.html"><a href="neon-aop.html#introduction-to-structural-diversity-metrics"><i class="fa fa-check"></i><b>6.6</b> Introduction to Structural Diversity Metrics</a></li>
<li class="chapter" data-level="6.7" data-path="neon-aop.html"><a href="neon-aop.html#neon-aop-discrete-return-lidar"><i class="fa fa-check"></i><b>6.7</b> NEON AOP Discrete Return LIDAR</a><ul>
<li class="chapter" data-level="6.7.1" data-path="neon-aop.html"><a href="neon-aop.html#loading-the-lidar-products"><i class="fa fa-check"></i><b>6.7.1</b> Loading the LIDAR Products</a></li>
<li class="chapter" data-level="6.7.2" data-path="neon-aop.html"><a href="neon-aop.html#normalizing-tree-height-to-ground"><i class="fa fa-check"></i><b>6.7.2</b> Normalizing Tree Height to Ground</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="neon-aop.html"><a href="neon-aop.html#calculating-structural-diversity-metrics"><i class="fa fa-check"></i><b>6.8</b> Calculating Structural Diversity Metrics</a><ul>
<li class="chapter" data-level="6.8.1" data-path="neon-aop.html"><a href="neon-aop.html#generate-canopy-height-model-chm"><i class="fa fa-check"></i><b>6.8.1</b> GENERATE CANOPY HEIGHT MODEL (CHM)</a></li>
<li class="chapter" data-level="6.8.2" data-path="neon-aop.html"><a href="neon-aop.html#combining-everything-into-one-function"><i class="fa fa-check"></i><b>6.8.2</b> Combining Everything Into One Function</a></li>
<li class="chapter" data-level="6.8.3" data-path="neon-aop.html"><a href="neon-aop.html#comparing-metrics-between-forests"><i class="fa fa-check"></i><b>6.8.3</b> Comparing Metrics Between Forests</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="neon-aop.html"><a href="neon-aop.html#matching-gedi-waveforms-with-neon-aop-lidar-pointclouds"><i class="fa fa-check"></i><b>6.9</b> Matching GEDI waveforms with NEON AOP LiDAR pointclouds</a><ul>
<li class="chapter" data-level="6.9.1" data-path="neon-aop.html"><a href="neon-aop.html#learning-objectives-3"><i class="fa fa-check"></i><b>6.9.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="6.9.2" data-path="neon-aop.html"><a href="neon-aop.html#things-youll-need-to-complete-this-gedi-section"><i class="fa fa-check"></i><b>6.9.2</b> Things You’ll Need To Complete This GEDI Section</a></li>
<li class="chapter" data-level="6.9.3" data-path="neon-aop.html"><a href="neon-aop.html#r-packages-to-install"><i class="fa fa-check"></i><b>6.9.3</b> R Packages to Install</a></li>
<li class="chapter" data-level="6.9.4" data-path="neon-aop.html"><a href="neon-aop.html#example-data-set"><i class="fa fa-check"></i><b>6.9.4</b> Example Data Set</a></li>
<li class="chapter" data-level="6.9.5" data-path="neon-aop.html"><a href="neon-aop.html#getting-started"><i class="fa fa-check"></i><b>6.9.5</b> Getting Started</a></li>
<li class="chapter" data-level="6.9.6" data-path="neon-aop.html"><a href="neon-aop.html#downloading-gedi-data"><i class="fa fa-check"></i><b>6.9.6</b> Downloading GEDI data</a></li>
<li class="chapter" data-level="6.9.7" data-path="neon-aop.html"><a href="neon-aop.html#plot-gedi-footprints-on-chm"><i class="fa fa-check"></i><b>6.9.7</b> Plot GEDI footprints on CHM</a></li>
<li class="chapter" data-level="6.9.8" data-path="neon-aop.html"><a href="neon-aop.html#extract-waveform-for-a-single-shot"><i class="fa fa-check"></i><b>6.9.8</b> Extract Waveform for a single Shot</a></li>
<li class="chapter" data-level="6.9.9" data-path="neon-aop.html"><a href="neon-aop.html#download-and-plot-neon-aop-lidar-pointcloud-data"><i class="fa fa-check"></i><b>6.9.9</b> Download and Plot NEON AOP LiDAR pointcloud data</a></li>
<li class="chapter" data-level="6.9.10" data-path="neon-aop.html"><a href="neon-aop.html#clip-aop-lidar-pointcloud-to-gedi-footprints"><i class="fa fa-check"></i><b>6.9.10</b> Clip AOP LiDAR Pointcloud to GEDI footprints</a></li>
<li class="chapter" data-level="6.9.11" data-path="neon-aop.html"><a href="neon-aop.html#plot-gedi-waveform-with-aop-pointcloud-in-3d-space"><i class="fa fa-check"></i><b>6.9.11</b> Plot GEDI Waveform with AOP Pointcloud in 3D space</a></li>
<li class="chapter" data-level="6.9.12" data-path="neon-aop.html"><a href="neon-aop.html#datum-geoid-and-how-to-best-measure-the-earth"><i class="fa fa-check"></i><b>6.9.12</b> Datum, Geoid, and how to best measure the Earth</a></li>
<li class="chapter" data-level="6.9.13" data-path="neon-aop.html"><a href="neon-aop.html#aligning-the-vertical-datum"><i class="fa fa-check"></i><b>6.9.13</b> Aligning the Vertical Datum</a></li>
<li class="chapter" data-level="6.9.14" data-path="neon-aop.html"><a href="neon-aop.html#geoid12a-height-model"><i class="fa fa-check"></i><b>6.9.14</b> GEOID12A Height Model</a></li>
<li class="chapter" data-level="6.9.15" data-path="neon-aop.html"><a href="neon-aop.html#extract-vertical-offset-for-gedi-shots"><i class="fa fa-check"></i><b>6.9.15</b> Extract vertical offset for GEDI shots</a></li>
<li class="chapter" data-level="6.9.16" data-path="neon-aop.html"><a href="neon-aop.html#plot-vertically-corrected-gedi-waveform-in-3d"><i class="fa fa-check"></i><b>6.9.16</b> Plot vertically corrected GEDI waveform in 3D</a></li>
<li class="chapter" data-level="6.9.17" data-path="neon-aop.html"><a href="neon-aop.html#optional---neon-base-plots"><i class="fa fa-check"></i><b>6.9.17</b> Optional - NEON base plots</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="neon-aop.html"><a href="neon-aop.html#neon-aop-written-questions"><i class="fa fa-check"></i><b>6.10</b> NEON AOP Written Questions:</a></li>
<li class="chapter" data-level="6.11" data-path="neon-aop.html"><a href="neon-aop.html#neon-aop-coding-lab"><i class="fa fa-check"></i><b>6.11</b> NEON AOP Coding Lab</a></li>
<li class="chapter" data-level="6.12" data-path="neon-aop.html"><a href="neon-aop.html#neon-aop-culmination-write-up"><i class="fa fa-check"></i><b>6.12</b> NEON AOP Culmination Write Up</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html"><i class="fa fa-check"></i><b>7</b> NASA’s Earth Observing System (EOS)</a><ul>
<li class="chapter" data-level="7.1" data-path="introduction-to-neon-its-data.html"><a href="introduction-to-neon-its-data.html#learning-objectives"><i class="fa fa-check"></i><b>7.1</b> Learning Objectives</a></li>
<li class="chapter" data-level="7.2" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#nasa-eos-project-mission-design"><i class="fa fa-check"></i><b>7.2</b> NASA EOS Project Mission &amp; Design</a></li>
<li class="chapter" data-level="7.3" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#nasa-eos-earth-data-account"><i class="fa fa-check"></i><b>7.3</b> NASA EOS Earth Data Account:</a></li>
<li class="chapter" data-level="7.4" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#nasa-eos-coding-assignment-1"><i class="fa fa-check"></i><b>7.4</b> <strong>NASA EOS Coding Assignment 1</strong></a></li>
<li class="chapter" data-level="7.5" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#distributed-active-archive-centers"><i class="fa fa-check"></i><b>7.5</b> Distributed Active Archive Centers</a><ul>
<li class="chapter" data-level="7.5.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#lp-daac"><i class="fa fa-check"></i><b>7.5.1</b> LP DAAC</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#the-lpdaac-mission-process-archive-distribute-apply"><i class="fa fa-check"></i><b>7.6</b> The LPDAAC Mission: Process, Archive, Distribute, Apply</a><ul>
<li class="chapter" data-level="7.6.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#how-you-can-use-lp-daacs-data"><i class="fa fa-check"></i><b>7.6.1</b> How you can use LP DAAC’s data</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#appeears"><i class="fa fa-check"></i><b>7.7</b> AppEEARS</a></li>
<li class="chapter" data-level="7.8" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#hands-on-pulling-appeears-data-via-the-api"><i class="fa fa-check"></i><b>7.8</b> Hands on: Pulling AppEEARS Data via the API</a></li>
<li class="chapter" data-level="7.9" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#getting-started-with-the-appeears-api-point-request"><i class="fa fa-check"></i><b>7.9</b> Getting Started with the AppEEARS API (Point Request)</a><ul>
<li class="chapter" data-level="7.9.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#example-submit-a-point-request-for-multiple-neon-sites-to-extract-vegetation-and-land-surface-temperature-data"><i class="fa fa-check"></i><b>7.9.1</b> Example: Submit a point request for multiple NEON sites to extract vegetation and land surface temperature data</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#topics-covered-in-this-section"><i class="fa fa-check"></i><b>7.10</b> Topics Covered in this section:</a><ul>
<li class="chapter" data-level="7.10.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#prerequisites"><i class="fa fa-check"></i><b>7.10.1</b> Prerequisites:</a></li>
<li class="chapter" data-level="7.10.2" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#appeears-information"><i class="fa fa-check"></i><b>7.10.2</b> AppEEARS Information:</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#getting-started-with-the-appeears-api"><i class="fa fa-check"></i><b>7.11</b> Getting Started with the AppEEARS API</a><ul>
<li class="chapter" data-level="7.11.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-packages"><i class="fa fa-check"></i><b>7.11.1</b> Load Packages</a></li>
<li class="chapter" data-level="7.11.2" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#set-up-the-output-directory"><i class="fa fa-check"></i><b>7.11.2</b> Set Up the Output Directory</a></li>
<li class="chapter" data-level="7.11.3" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#login-to-earth-data"><i class="fa fa-check"></i><b>7.11.3</b> Login to Earth Data</a></li>
</ul></li>
<li class="chapter" data-level="7.12" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#query-available-products"><i class="fa fa-check"></i><b>7.12</b> Query Available Products</a></li>
<li class="chapter" data-level="7.13" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#search-and-explore-available-products"><i class="fa fa-check"></i><b>7.13</b> Search and Explore Available Products</a></li>
<li class="chapter" data-level="7.14" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#search-and-explore-available-layers"><i class="fa fa-check"></i><b>7.14</b> Search and Explore Available Layers</a></li>
<li class="chapter" data-level="7.15" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#submit-a-point-request"><i class="fa fa-check"></i><b>7.15</b> Submit a Point Request</a><ul>
<li class="chapter" data-level="7.15.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#compile-a-json-object"><i class="fa fa-check"></i><b>7.15.1</b> Compile a JSON Object</a></li>
<li class="chapter" data-level="7.15.2" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#submit-a-task-request"><i class="fa fa-check"></i><b>7.15.2</b> Submit a Task Request</a></li>
<li class="chapter" data-level="7.15.3" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#retrieve-task-status"><i class="fa fa-check"></i><b>7.15.3</b> Retrieve Task Status</a></li>
</ul></li>
<li class="chapter" data-level="7.16" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#download-a-request"><i class="fa fa-check"></i><b>7.16</b> Download a Request</a><ul>
<li class="chapter" data-level="7.16.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#explore-files-in-request-output"><i class="fa fa-check"></i><b>7.16.1</b> Explore Files in Request Output</a></li>
</ul></li>
<li class="chapter" data-level="7.17" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#download-files-in-a-request-automation"><i class="fa fa-check"></i><b>7.17</b> Download Files in a Request (Automation)</a></li>
<li class="chapter" data-level="7.18" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#explore-appeears-quality-service"><i class="fa fa-check"></i><b>7.18</b> Explore AppEEARS Quality Service</a><ul>
<li class="chapter" data-level="7.18.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#list-quality-layers"><i class="fa fa-check"></i><b>7.18.1</b> List Quality Layers</a></li>
<li class="chapter" data-level="7.18.2" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#inspect-quality-values"><i class="fa fa-check"></i><b>7.18.2</b> Inspect Quality Values</a></li>
</ul></li>
<li class="chapter" data-level="7.19" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#decode-quality-values"><i class="fa fa-check"></i><b>7.19</b> Decode Quality Values</a></li>
<li class="chapter" data-level="7.20" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-request-output-and-visualize"><i class="fa fa-check"></i><b>7.20</b> Load Request Output and Visualize</a></li>
<li class="chapter" data-level="7.21" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-a-csv"><i class="fa fa-check"></i><b>7.21</b> Load a CSV</a></li>
<li class="chapter" data-level="7.22" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#plot-results-linescatter-plots"><i class="fa fa-check"></i><b>7.22</b> Plot Results (Line/Scatter Plots)</a></li>
<li class="chapter" data-level="7.23" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#submit-an-area-request"><i class="fa fa-check"></i><b>7.23</b> Submit an Area Request</a></li>
<li class="chapter" data-level="7.24" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#submit-an-area-request-using-a-neon-site-boundary-as-the-region-of-interest-for-extracting-elevation-vegetation-and-land-surface-temperature-data"><i class="fa fa-check"></i><b>7.24</b> Submit an area request using a NEON site boundary as the region of interest for extracting elevation, vegetation and land surface temperature data</a><ul>
<li class="chapter" data-level="7.24.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#topics-covered-in-this-tutorial"><i class="fa fa-check"></i><b>7.24.1</b> Topics Covered in this Tutorial</a></li>
<li class="chapter" data-level="7.24.2" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#prerequisites-1"><i class="fa fa-check"></i><b>7.24.2</b> Prerequisites:</a></li>
<li class="chapter" data-level="7.24.3" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#procedures"><i class="fa fa-check"></i><b>7.24.3</b> Procedures:</a></li>
<li class="chapter" data-level="7.24.4" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#appeears-information-1"><i class="fa fa-check"></i><b>7.24.4</b> AppEEARS Information:</a></li>
</ul></li>
<li class="chapter" data-level="7.25" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#getting-started-with-an-area-request"><i class="fa fa-check"></i><b>7.25</b> Getting Started with an Area Request</a><ul>
<li class="chapter" data-level="7.25.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-packages-for-an-area-request"><i class="fa fa-check"></i><b>7.25.1</b> Load Packages for an Area Request</a></li>
</ul></li>
<li class="chapter" data-level="7.26" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#set-up-the-output-directory-1"><i class="fa fa-check"></i><b>7.26</b> Set Up the Output Directory</a></li>
<li class="chapter" data-level="7.27" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-your-earth-data-token"><i class="fa fa-check"></i><b>7.27</b> Load your Earth Data Token</a></li>
<li class="chapter" data-level="7.28" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#query-available-products-1"><i class="fa fa-check"></i><b>7.28</b> Query Available Products</a></li>
<li class="chapter" data-level="7.29" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#search-and-explore-available-products-1"><i class="fa fa-check"></i><b>7.29</b> Search and Explore Available Products</a></li>
<li class="chapter" data-level="7.30" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#search-and-explore-available-layers-1"><i class="fa fa-check"></i><b>7.30</b> Search and Explore Available Layers</a></li>
<li class="chapter" data-level="7.31" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#submit-an-area-request-1"><i class="fa fa-check"></i><b>7.31</b> Submit an Area Request</a><ul>
<li class="chapter" data-level="7.31.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-a-shapefile"><i class="fa fa-check"></i><b>7.31.1</b> Load a Shapefile</a></li>
</ul></li>
<li class="chapter" data-level="7.32" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#search-and-explore-available-projections"><i class="fa fa-check"></i><b>7.32</b> Search and Explore Available Projections</a></li>
<li class="chapter" data-level="7.33" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#compile-a-json-object-1"><i class="fa fa-check"></i><b>7.33</b> Compile a JSON Object</a></li>
<li class="chapter" data-level="7.34" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#submit-a-task-request-1"><i class="fa fa-check"></i><b>7.34</b> Submit a Task Request</a></li>
<li class="chapter" data-level="7.35" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#retrieve-task-status-1"><i class="fa fa-check"></i><b>7.35</b> Retrieve Task Status</a></li>
<li class="chapter" data-level="7.36" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#download-a-request-1"><i class="fa fa-check"></i><b>7.36</b> Download a Request</a><ul>
<li class="chapter" data-level="7.36.1" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#explore-files-in-request-output-1"><i class="fa fa-check"></i><b>7.36.1</b> Explore Files in Request Output</a></li>
</ul></li>
<li class="chapter" data-level="7.37" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#download-files-in-a-request-automation-1"><i class="fa fa-check"></i><b>7.37</b> Download Files in a Request (Automation)</a></li>
<li class="chapter" data-level="7.38" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#explore-appeears-quality-service-1"><i class="fa fa-check"></i><b>7.38</b> Explore AppEEARS Quality Service</a></li>
<li class="chapter" data-level="7.39" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#list-quality-layers-1"><i class="fa fa-check"></i><b>7.39</b> List Quality Layers</a></li>
<li class="chapter" data-level="7.40" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#show-quality-values"><i class="fa fa-check"></i><b>7.40</b> Show Quality Values</a></li>
<li class="chapter" data-level="7.41" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#decode-quality-values-1"><i class="fa fa-check"></i><b>7.41</b> Decode Quality Values</a></li>
<li class="chapter" data-level="7.42" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#bonus-load-request-output-and-visualize"><i class="fa fa-check"></i><b>7.42</b> BONUS: Load Request Output and Visualize</a></li>
<li class="chapter" data-level="7.43" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#load-a-geotiff"><i class="fa fa-check"></i><b>7.43</b> Load a GeoTIFF</a></li>
<li class="chapter" data-level="7.44" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#plot-a-geotiff"><i class="fa fa-check"></i><b>7.44</b> Plot a GeoTIFF</a></li>
<li class="chapter" data-level="7.45" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#nasa-eos-coding-lab-2"><i class="fa fa-check"></i><b>7.45</b> NASA EOS Coding Lab #2</a></li>
<li class="chapter" data-level="7.46" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#nasa-eos-written-questions"><i class="fa fa-check"></i><b>7.46</b> NASA EOS Written Questions</a></li>
<li class="chapter" data-level="7.47" data-path="nasas-earth-observing-system-eos.html"><a href="nasas-earth-observing-system-eos.html#nasa-eos-culmination-write-up"><i class="fa fa-check"></i><b>7.47</b> NASA EOS Culmination Write Up</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html"><i class="fa fa-check"></i><b>8</b> USGS National Water Information System (NWIS)</a><ul>
<li class="chapter" data-level="8.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#usgs-mission"><i class="fa fa-check"></i><b>8.1</b> USGS Mission:</a></li>
<li class="chapter" data-level="8.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#usgs-water-resources-mission"><i class="fa fa-check"></i><b>8.2</b> USGS Water Resources Mission:</a></li>
<li class="chapter" data-level="8.3" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#types-of-usgs-nwis-data"><i class="fa fa-check"></i><b>8.3</b> Types of USGS NWIS Data</a></li>
<li class="chapter" data-level="8.4" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#usgs-r-packages-collaborative-and-reproducible-data-analysis-using-r"><i class="fa fa-check"></i><b>8.4</b> USGS R Packages: Collaborative and reproducible data analysis using R</a><ul>
<li class="chapter" data-level="8.4.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#suggested-prerequisite-knowledge"><i class="fa fa-check"></i><b>8.4.1</b> Suggested prerequisite knowledge</a></li>
<li class="chapter" data-level="8.4.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#course-outline"><i class="fa fa-check"></i><b>8.4.2</b> Course outline</a></li>
<li class="chapter" data-level="8.4.3" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#software-requirements"><i class="fa fa-check"></i><b>8.4.3</b> Software requirements</a></li>
<li class="chapter" data-level="8.4.4" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#lesson-summary"><i class="fa fa-check"></i><b>8.4.4</b> Lesson Summary</a></li>
<li class="chapter" data-level="8.4.5" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#lesson-objectives"><i class="fa fa-check"></i><b>8.4.5</b> Lesson Objectives</a></li>
<li class="chapter" data-level="8.4.6" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#lesson-resources"><i class="fa fa-check"></i><b>8.4.6</b> Lesson Resources</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#introduction-to-usgs-r-packages"><i class="fa fa-check"></i><b>8.5</b> Introduction to USGS R Packages</a></li>
<li class="chapter" data-level="8.6" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#data-available"><i class="fa fa-check"></i><b>8.6</b> Data available</a></li>
<li class="chapter" data-level="8.7" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#common-nwis-function-arguments"><i class="fa fa-check"></i><b>8.7</b> Common NWIS function arguments</a></li>
<li class="chapter" data-level="8.8" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#discovering-nwis-data"><i class="fa fa-check"></i><b>8.8</b> Discovering NWIS data</a><ul>
<li class="chapter" data-level="8.8.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#whatnwisdata"><i class="fa fa-check"></i><b>8.8.1</b> whatNWISdata</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#common-wqp-function-arguments"><i class="fa fa-check"></i><b>8.9</b> Common WQP function arguments</a></li>
<li class="chapter" data-level="8.10" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#discovering-wqp-data"><i class="fa fa-check"></i><b>8.10</b> Discovering WQP data</a><ul>
<li class="chapter" data-level="8.10.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readwqpdata-querysummary"><i class="fa fa-check"></i><b>8.10.1</b> readWQPdata + querySummary</a></li>
<li class="chapter" data-level="8.10.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#whatwqpsites"><i class="fa fa-check"></i><b>8.10.2</b> whatWQPsites</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwis-functions"><i class="fa fa-check"></i><b>8.11</b> readNWIS functions</a><ul>
<li class="chapter" data-level="8.11.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisdata"><i class="fa fa-check"></i><b>8.11.1</b> readNWISdata</a></li>
<li class="chapter" data-level="8.11.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisdv"><i class="fa fa-check"></i><b>8.11.2</b> readNWISdv</a></li>
<li class="chapter" data-level="8.11.3" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisgwl"><i class="fa fa-check"></i><b>8.11.3</b> readNWISgwl</a></li>
<li class="chapter" data-level="8.11.4" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwismeas"><i class="fa fa-check"></i><b>8.11.4</b> readNWISmeas</a></li>
<li class="chapter" data-level="8.11.5" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwispcode"><i class="fa fa-check"></i><b>8.11.5</b> readNWISpCode</a></li>
<li class="chapter" data-level="8.11.6" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwispeak"><i class="fa fa-check"></i><b>8.11.6</b> readNWISpeak</a></li>
<li class="chapter" data-level="8.11.7" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisqw"><i class="fa fa-check"></i><b>8.11.7</b> readNWISqw</a></li>
<li class="chapter" data-level="8.11.8" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisrating"><i class="fa fa-check"></i><b>8.11.8</b> readNWISrating</a></li>
<li class="chapter" data-level="8.11.9" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwissite"><i class="fa fa-check"></i><b>8.11.9</b> readNWISsite</a></li>
<li class="chapter" data-level="8.11.10" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisstat"><i class="fa fa-check"></i><b>8.11.10</b> readNWISstat</a></li>
<li class="chapter" data-level="8.11.11" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisuse"><i class="fa fa-check"></i><b>8.11.11</b> readNWISuse</a></li>
<li class="chapter" data-level="8.11.12" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readnwisuv"><i class="fa fa-check"></i><b>8.11.12</b> readNWISuv</a></li>
</ul></li>
<li class="chapter" data-level="8.12" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#additional-features"><i class="fa fa-check"></i><b>8.12</b> Additional Features</a><ul>
<li class="chapter" data-level="8.12.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#accessing-attributes"><i class="fa fa-check"></i><b>8.12.1</b> Accessing attributes</a></li>
<li class="chapter" data-level="8.12.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#using-lists-as-input"><i class="fa fa-check"></i><b>8.12.2</b> Using lists as input</a></li>
<li class="chapter" data-level="8.12.3" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#helper-functions"><i class="fa fa-check"></i><b>8.12.3</b> Helper functions</a></li>
</ul></li>
<li class="chapter" data-level="8.13" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readwqp-functions"><i class="fa fa-check"></i><b>8.13</b> readWQP functions</a><ul>
<li class="chapter" data-level="8.13.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readwqpdata"><i class="fa fa-check"></i><b>8.13.1</b> readWQPdata</a></li>
<li class="chapter" data-level="8.13.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#readwqpqw"><i class="fa fa-check"></i><b>8.13.2</b> readWQPqw</a></li>
</ul></li>
<li class="chapter" data-level="8.14" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#attributes-and-metadata"><i class="fa fa-check"></i><b>8.14</b> Attributes and metadata</a></li>
<li class="chapter" data-level="8.15" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#usgs-coding-lab-exercises"><i class="fa fa-check"></i><b>8.15</b> USGS COding Lab Exercises</a></li>
<li class="chapter" data-level="8.16" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#geoknife---introduction"><i class="fa fa-check"></i><b>8.16</b> geoKnife - Introduction</a></li>
<li class="chapter" data-level="8.17" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#lesson-summary-1"><i class="fa fa-check"></i><b>8.17</b> Lesson Summary</a></li>
<li class="chapter" data-level="8.18" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#lesson-objectives-1"><i class="fa fa-check"></i><b>8.18</b> Lesson Objectives</a></li>
<li class="chapter" data-level="8.19" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#lesson-resources-1"><i class="fa fa-check"></i><b>8.19</b> Lesson Resources</a></li>
<li class="chapter" data-level="8.20" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#remote-processing"><i class="fa fa-check"></i><b>8.20</b> Remote processing</a></li>
<li class="chapter" data-level="8.21" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#geoknife-components-fabric-stencil-knife"><i class="fa fa-check"></i><b>8.21</b> geoknife components: fabric, stencil, knife</a></li>
<li class="chapter" data-level="8.22" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#available-webdata"><i class="fa fa-check"></i><b>8.22</b> Available webdata</a><ul>
<li class="chapter" data-level="8.22.1" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#gdp-datasets"><i class="fa fa-check"></i><b>8.22.1</b> GDP datasets</a></li>
<li class="chapter" data-level="8.22.2" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#datasets-not-in-gdp"><i class="fa fa-check"></i><b>8.22.2</b> Datasets not in GDP</a></li>
</ul></li>
<li class="chapter" data-level="8.23" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#available-webgeoms"><i class="fa fa-check"></i><b>8.23</b> Available webgeoms</a></li>
<li class="chapter" data-level="8.24" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#available-webprocesses"><i class="fa fa-check"></i><b>8.24</b> Available webprocesses</a></li>
<li class="chapter" data-level="8.25" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#setting-up-a-geojob"><i class="fa fa-check"></i><b>8.25</b> Setting up a geojob</a></li>
<li class="chapter" data-level="8.26" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#checking-the-geojob-status"><i class="fa fa-check"></i><b>8.26</b> Checking the geojob status</a></li>
<li class="chapter" data-level="8.27" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#getting-geojob-data"><i class="fa fa-check"></i><b>8.27</b> Getting geojob data</a></li>
<li class="chapter" data-level="8.28" data-path="usgs-national-water-information-system-nwis.html"><a href="usgs-national-water-information-system-nwis.html#wait-and-email"><i class="fa fa-check"></i><b>8.28</b> <code>wait</code> and <code>email</code></a></li>
</ul></li>
<li class="chapter" data-level="" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html"><i class="fa fa-check"></i>Frequently Asked Questions:</a><ul>
<li class="chapter" data-level="8.29" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#where-can-i-find-due-dates-for-assignments"><i class="fa fa-check"></i><b>8.29</b> Where can I find due dates for assignments?</a></li>
<li class="chapter" data-level="8.30" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#how-do-i-submit-assignments"><i class="fa fa-check"></i><b>8.30</b> How do I submit assignments?</a></li>
<li class="chapter" data-level="8.31" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#do-i-still-have-to-submit-written-exercises-as-.rmd-and-.pdf"><i class="fa fa-check"></i><b>8.31</b> Do I still have to submit written exercises as .Rmd and .pdf?</a></li>
<li class="chapter" data-level="8.32" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#whats-better-for-code-conciseness-or-readability"><i class="fa fa-check"></i><b>8.32</b> What’s better for code, conciseness or readability?</a></li>
<li class="chapter" data-level="8.33" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#how-find-i-find-resources-to-navigate-the-neon-data-portal"><i class="fa fa-check"></i><b>8.33</b> How find I find resources to navigate the NEON Data Portal?</a></li>
<li class="chapter" data-level="8.34" data-path="frequently-asked-questions.html"><a href="frequently-asked-questions.html#how-can-i-best-prepare-for-class-and-succeed"><i class="fa fa-check"></i><b>8.34</b> How can I best prepare for class and succeed?</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/katharynduffy/katharynduffy.github.io" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Environmental Informatics Using Research Infrastructures and their Data</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="nasas-earth-observing-system-eos" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> NASA’s Earth Observing System (EOS)</h1>
<blockquote>
<p>Estimated Time: 3 hours</p>
</blockquote>
<div id="learning-objectives" class="section level2">
<h2><span class="header-section-number">7.1</span> Learning Objectives</h2>
<ul>
<li>Describe the mission of NASA EOS</li>
<li>Describe the roles of DAACs in distributing data</li>
<li>Interact with the AppEEARS API to query the list of available products</li>
<li>Submit and download submitting a point and area sample requests, download the request</li>
<li>Filter data based on quality</li>
</ul>
<p><img src="images/CURRENT-Earth-Missions10_2019.png" width="400" /></p>
</div>
<div id="nasa-eos-project-mission-design" class="section level2">
<h2><span class="header-section-number">7.2</span> NASA EOS Project Mission &amp; Design</h2>
<p>NASA’s Earth Observing System (EOS) is a coordinated series of polar-orbiting and low inclination satellites for long-term global observations of the land surface, biosphere, solid Earth, atmosphere, and oceans. As a major component of the Earth Science Division of NASA’s Science Mission Directorate, EOS enables an improved understanding of the Earth as an integrated system.</p>
<p><a href="https://eospso.nasa.gov/files/mission_profile.pdf"><strong>Review NASA EOS’s Mission Profile</strong></a></p>
<ul>
<li><p>Completeed Missions</p></li>
<li><p>Current Missions</p></li>
<li><p>Future Missions</p></li>
</ul>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pDvRE0iF9ME" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<blockquote>
<p>Credit: NASA’s Goddard Space Flight Center</p>
</blockquote>
</div>
<div id="nasa-eos-earth-data-account" class="section level2">
<h2><span class="header-section-number">7.3</span> NASA EOS Earth Data Account:</h2>
<p>The EOSDIS Earthdata Login provides a centralized and simplified mechanism for user registration and profile management for all EOSDIS system components. End users may register and edit their profile information in one location allowing them access to the wide array of EOSDIS data and services. The EOSDIS Earthdata Login also helps the EOSDIS program better understand the user demographics and access patterns in support of planning for new value-added features and customized services that can be directed to specific users or user groups resulting in better user experience.</p>
<p>Earthdata Login provides user registration and authentication services and a common set of user information to all EOSDIS data centers in a manner that permits the data center to integrate their additional requirements with the Earthdata Login services. Below is a brief description of services provided by the Earthdata Login.</p>
</div>
<div id="nasa-eos-coding-assignment-1" class="section level2">
<h2><span class="header-section-number">7.4</span> <strong>NASA EOS Coding Assignment 1</strong></h2>
<p><em>Suggested completion: following lecture 1 on NASA EOS</em></p>
<p><strong>To submit via BBLearn:</strong>
1) Follow the <a href="https://urs.earthdata.nasa.gov/documentation">steps in the NASA EOSDIS documentation</a> to sign up for an Earth Data account.</p>
<ol start="2" style="list-style-type: decimal">
<li>Write an R script that stores your <code>user</code> and <code>password</code> called <code>EARTHDATA_Token.R</code> and submit the following line of code via .Rmd and PDF:</li>
</ol>
<pre><code>source(&#39;./Tokens/EARTHDATA_Token.R&#39;) #path will change based on where you stored it
exists(&#39;user&#39;)</code></pre>
</div>
<div id="distributed-active-archive-centers" class="section level2">
<h2><span class="header-section-number">7.5</span> Distributed Active Archive Centers</h2>
<div id="lp-daac" class="section level3">
<h3><span class="header-section-number">7.5.1</span> LP DAAC</h3>
<p>The <a href="https://lpdaac.usgs.gov/about/">Land Processes Distributed Active Archive Center (LP DAAC)</a> is one of several discipline-specific data centers within the NASA EOS Data and Information System <a href="https://earthdata.nasa.gov/about-eosdis?_ga=2.174168546.1999623198.1596733217-204014717.1592177507">(EOSDIS)</a>. The LP DAAC operates as a partnership between the U.S. Geological Survey (USGS) and the National Aeronautics and Space Administration (NASA). Data specialists, system engineers, user service representatives, and science communicators work in collaboration to support LP DAAC activities.</p>
<p><strong>Watch this 4:02 minute video on LP DAAC’s 2019-2021 Prosectus</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/pCuE007qEqI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
</div>
<div id="the-lpdaac-mission-process-archive-distribute-apply" class="section level2">
<h2><span class="header-section-number">7.6</span> The LPDAAC Mission: Process, Archive, Distribute, Apply</h2>
<p>The LP DAAC processes, archives, and distributes land data products to hundreds of thousands of users in the earth science community. Land data products are made universally accessible and support the ongoing monitoring of Earth’s land dynamics and environmental systems to facilitate interdisciplinary research, education, and decision-making.</p>
<p><strong>Process:</strong> Raw data collected from specific satellite sensors, such as ASTER onboard NASA’s Terra satellite, are received and processed into a readable and interpretable format here at the LP DAAC, while other data undergo processing in other facilities around the country before arriving to the LP DAAC to be archived and distributed to the public.</p>
<p><strong>Archive:</strong> The LP DAAC continually archives a wide variety of land remote sensing data products collected by sensors onboard satellites, aircraft, and the International Space Station (ISS). The archive currently totals more than 3.5 petabytes of data, the equivalent of listening to 800 million songs, and distributes data to over 200,000 global users.</p>
<p><strong>Distribute:</strong> All data products in the archive are distributed free of charge through NASA <a href="https://search.earthdata.nasa.gov/search">Earthdata Search</a> and <a href="https://earthexplorer.usgs.gov/">USGS EarthExplorer</a> search and download clients. The LP DAAC also supports tools and services, like the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/">Application for Extracting and Exploring Analysis Ready Samples (AppEEARS)</a>, which allows users to transform and visualize data before download while offering enhanced subsetting and reprojecting capabilities.</p>
<div id="how-you-can-use-lp-daacs-data" class="section level3">
<h3><span class="header-section-number">7.6.1</span> How you can use LP DAAC’s data</h3>
<p><strong>Watch this 2:13 minute long video on searching for data at the LP DAAC</strong></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zX-cuTWeh8Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</div>
</div>
<div id="appeears" class="section level2">
<h2><span class="header-section-number">7.7</span> AppEEARS</h2>
<p>The Application for Extracting and Exploring Analysis Ready Samples (<a href="https://lpdaacsvc.cr.usgs.gov/appeears/">AppEEARS</a>) offers a simple and efficient way to access and transform <a href="https://lpdaacsvc.cr.usgs.gov/appeears/products">geospatial data</a> from a variety of federal data archives in an easy-to-use web application interface. AppEEARS enables users to subset geospatial data spatially, temporally, and by band/layer for point and area samples. AppEEARS returns not only the requested data, but also the associated quality values, and offers interactive visualizations with summary statistics in the web interface. The <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">AppEEARS API</a> offers users <strong>programmatic access</strong> to all features available in AppEEARS, with the exception of visualizations. The API features are demonstrated in this tutorial.</p>
</div>
<div id="hands-on-pulling-appeears-data-via-the-api" class="section level2">
<h2><span class="header-section-number">7.8</span> Hands on: Pulling AppEEARS Data via the API</h2>
<p><em>The following section was adapted from <a href="https://lpdaac.usgs.gov/resources/e-learning/getting-started-appeears-api-r-point-request/">LPDAAC’s E-Learning Tutorials on the AppEEARS API</a> and modified to request data for NEON sites.</em></p>
<blockquote>
<p>Contributing Authors:
Material written by Mahsa Jami<sup>1</sup> and Cole Krehbiel<sup>1</sup><br />
Contact: <a href="mailto:LPDAAC@usgs.gov" class="email">LPDAAC@usgs.gov</a><br />
Voice: +1-866-573-3222<br />
Organization: Land Processes Distributed Active Archive Center (LP DAAC)<br />
Website: <a href="https://lpdaac.usgs.gov/" class="uri">https://lpdaac.usgs.gov/</a><br />
Date last modified: 06-12-2020</p>
</blockquote>
<blockquote>
<p><sup>1</sup> KBR, Inc., contractor to the U.S. Geological Survey, Earth Resources Observation and Science (EROS) Center,<br />
Sioux Falls, South Dakota, USA. Work performed under USGS contract G15PD00467 for LP DAAC<sup>2</sup>.</p>
</blockquote>
<blockquote>
<p><sup>2</sup> LP DAAC Work performed under NASA contract NNG14HH33I.</p>
</blockquote>
<p>Run the following chunk to install any packages you will need for this section:</p>
<div class="sourceCode" id="cb547"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb547-1" data-line-number="1"><span class="co"># Packages you will need for AppEEARS API Tutorials</span></a>
<a class="sourceLine" id="cb547-2" data-line-number="2">packages =<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;getPass&#39;</span>,<span class="st">&#39;httr&#39;</span>,<span class="st">&#39;jsonlite&#39;</span>,<span class="st">&#39;ggplot2&#39;</span>,<span class="st">&#39;dplyr&#39;</span>,<span class="st">&#39;tidyr&#39;</span>,<span class="st">&#39;readr&#39;</span>,<span class="st">&#39;geojsonio&#39;</span>,<span class="st">&#39;geojsonR&#39;</span>,<span class="st">&#39;rgdal&#39;</span>,<span class="st">&#39;sp&#39;</span>, <span class="st">&#39;raster&#39;</span>, <span class="st">&#39;rasterVis&#39;</span>, <span class="st">&#39;RColorBrewer&#39;</span>, <span class="st">&#39;jsonlite&#39;</span>)</a>
<a class="sourceLine" id="cb547-3" data-line-number="3"></a>
<a class="sourceLine" id="cb547-4" data-line-number="4"></a>
<a class="sourceLine" id="cb547-5" data-line-number="5"></a>
<a class="sourceLine" id="cb547-6" data-line-number="6"><span class="co"># Identify missing packages</span></a>
<a class="sourceLine" id="cb547-7" data-line-number="7">new.packages =<span class="st"> </span>packages[<span class="op">!</span>(packages <span class="op">%in%</span><span class="st"> </span><span class="kw">installed.packages</span>()[,<span class="st">&quot;Package&quot;</span>])]</a>
<a class="sourceLine" id="cb547-8" data-line-number="8"></a>
<a class="sourceLine" id="cb547-9" data-line-number="9"><span class="co"># Loop through and download the required packages</span></a>
<a class="sourceLine" id="cb547-10" data-line-number="10"><span class="cf">if</span> (<span class="kw">length</span>(new.packages)[<span class="dv">1</span>]<span class="op">==</span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb547-11" data-line-number="11">  <span class="kw">message</span>(<span class="st">&#39;All packages already installed&#39;</span>)</a>
<a class="sourceLine" id="cb547-12" data-line-number="12">  }<span class="cf">else</span>{</a>
<a class="sourceLine" id="cb547-13" data-line-number="13">  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">length</span>(new.packages)){</a>
<a class="sourceLine" id="cb547-14" data-line-number="14">    <span class="kw">message</span>(<span class="kw">paste0</span>(<span class="st">&#39;Installing: &#39;</span>, new.packages))</a>
<a class="sourceLine" id="cb547-15" data-line-number="15">    <span class="kw">install.packages</span>(new.packages[i])</a>
<a class="sourceLine" id="cb547-16" data-line-number="16">    }</a>
<a class="sourceLine" id="cb547-17" data-line-number="17">  }</a></code></pre></div>
</div>
<div id="getting-started-with-the-appeears-api-point-request" class="section level2">
<h2><span class="header-section-number">7.9</span> Getting Started with the AppEEARS API (Point Request)</h2>
<hr />
<p><strong>This section demonstrates how to use R to connect to the AppEEARS API</strong>
The Application for Extracting and Exploring Analysis Ready Samples (<a href="https://lpdaacsvc.cr.usgs.gov/appeears/">AppEEARS</a>) offers a simple and efficient way to access and transform <a href="https://lpdaacsvc.cr.usgs.gov/appeears/products">geospatial data</a> from a variety of federal data archives in an easy-to-use web application interface. AppEEARS enables users to subset geospatial data spatially, temporally, and by band/layer for point and area samples. AppEEARS returns not only the requested data, but also the associated quality values, and offers interactive visualizations with summary statistics in the web interface. The <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">AppEEARS API</a> offers users <strong>programmatic access</strong> to all features available in AppEEARS, with the exception of visualizations. The API features are demonstrated in this tutorial.</p>
<hr />
<div id="example-submit-a-point-request-for-multiple-neon-sites-to-extract-vegetation-and-land-surface-temperature-data" class="section level3">
<h3><span class="header-section-number">7.9.1</span> Example: Submit a point request for multiple NEON sites to extract vegetation and land surface temperature data</h3>
<p>In this tutorial, Connecting to the AppEEARS API, querying the list of available products, submitting a point sample request, downloading the request, working with the AppEEARS Quality API, and loading the results into R for visualization are covered. AppEEARS point requests allow users to subset their desired data using latitude/longitude geographic coordinate pairs (points) for a time period of interest, and for specific data layers within data products. AppEEARS returns the valid data from the parameters defined within the sample request.</p>
<div id="data-used-in-the-example" class="section level4">
<h4><span class="header-section-number">7.9.1.1</span> Data Used in the Example:</h4>
<ul>
<li>Data layers:
<ul>
<li>Combined MODIS Leaf Area Index (LAI)
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MCD15A3H.006">MCD15A3H.006</a>, 500m, 4 day: ‘Lai_500m’<br />
</li>
</ul></li>
<li>Terra MODIS Land Surface Temperature
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MOD11A2.006">MOD11A2.006</a>, 1000m, 8 day: ‘LST_Day_1km’, ‘LST_Night_1km’</li>
</ul></li>
</ul></li>
</ul>
<hr />
</div>
</div>
</div>
<div id="topics-covered-in-this-section" class="section level2">
<h2><span class="header-section-number">7.10</span> Topics Covered in this section:</h2>
<ol style="list-style-type: decimal">
<li><strong>Getting Started</strong><br />
1a. Load Packages
1b. Set Up the Output Directory<br />
1c. Login<br />
</li>
<li><strong>Query Available Products</strong><br />
2a. Search and Explore Available Products<br />
2b. Search and Explore Available Layers<br />
</li>
<li><strong>Submit a Point Request</strong><br />
3a. Compile a JSON Object
3b. Submit a Task Request
3c. Retrieve Task Status<br />
</li>
<li><strong>Download a Request</strong><br />
4a. Explore Files in Request Output<br />
4b. Download Files in a Request (Automation)<br />
</li>
<li><strong>Explore AppEEARS Quality API</strong><br />
5a. List Quality Layers<br />
5b. Show Quality Values<br />
5c. Decode Quality Values<br />
</li>
<li><strong>BONUS: Load Request Output and Visualize</strong><br />
6a. Load CSV<br />
6b. Plot Results (Line/Scatter Plots)</li>
</ol>
<hr />
<div id="prerequisites" class="section level3">
<h3><span class="header-section-number">7.10.1</span> Prerequisites:</h3>
<ul>
<li><p>A <a href="https://urs.earthdata.nasa.gov/">NASA Earthdata Login</a> account is required to login to the AppEEARS API and submit a request . You can create an account at the link provided.</p></li>
<li><p>R and RStudio.
These tutorials have been tested on Windows and MAC systems using R Version 4.0.0, RStudio version 1.1.463, and the specifications listed below.</p>
<ul>
<li>Required packages:
<ul>
<li><code>getPass</code><br />
</li>
<li><code>httr</code><br />
</li>
<li><code>jsonlite</code><br />
</li>
<li><code>warnings</code></li>
</ul></li>
<li>To read and visualize the tabular data:
<ul>
<li><code>dplyr</code><br />
</li>
<li><code>tidyr</code></li>
<li><code>readr</code><br />
</li>
<li><code>ggplot2</code></li>
</ul></li>
</ul></li>
</ul>
<hr />
<div id="getting-started" class="section level4">
<h4><span class="header-section-number">7.10.1.1</span> Getting Started:</h4>
<ol style="list-style-type: decimal">
<li><p>Clone/download <a href="https://git.earthdata.nasa.gov/rest/api/latest/projects/LPDUR/repos/appeears-api-getting-started_r/archive?format=zip">AppEEARS API Getting Started in R Repository</a> from the LP DAAC Data User Resources Repository or pull code from this textbook.</p></li>
<li><p>If you opted to clone LP DAAC’s repo open the <code>AppEEARS_API_R.Rproj</code> file to directly open the project. Next, select the <code>AppEEARS_API_Point_R.Rmd</code> from the files list and open it.</p></li>
</ol>
<hr />
</div>
</div>
<div id="appeears-information" class="section level3">
<h3><span class="header-section-number">7.10.2</span> AppEEARS Information:</h3>
<p>To access AppEEARS, visit: <a href="https://lpdaacsvc.cr.usgs.gov/appeears/" class="uri">https://lpdaacsvc.cr.usgs.gov/appeears/</a>.</p>
<p>For comprehensive documentation of the full functionality of the AppEEARS API, please see the AppEEARS <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">API Documentation</a>.</p>
<hr />
</div>
</div>
<div id="getting-started-with-the-appeears-api" class="section level2">
<h2><span class="header-section-number">7.11</span> Getting Started with the AppEEARS API</h2>
<div id="load-packages" class="section level3">
<h3><span class="header-section-number">7.11.1</span> Load Packages</h3>
<p>First, load the R packages necessary to run the tutorial.</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb548-1" data-line-number="1"><span class="co"># Load necessary packages into R                                               </span></a>
<a class="sourceLine" id="cb548-2" data-line-number="2"><span class="kw">library</span>(getPass)            <span class="co"># A micro-package for reading passwords</span></a>
<a class="sourceLine" id="cb548-3" data-line-number="3"><span class="kw">library</span>(httr)               <span class="co"># To send a request to the server/receive a response from the server</span></a>
<a class="sourceLine" id="cb548-4" data-line-number="4"><span class="kw">library</span>(jsonlite)           <span class="co"># Implements a bidirectional mapping between JSON data and the most important R data types</span></a>
<a class="sourceLine" id="cb548-5" data-line-number="5"><span class="kw">library</span>(ggplot2)            <span class="co"># Functions for graphing and mapping</span></a>
<a class="sourceLine" id="cb548-6" data-line-number="6"><span class="kw">library</span>(tidyr)              <span class="co"># Function for working with tabular data</span></a>
<a class="sourceLine" id="cb548-7" data-line-number="7"><span class="kw">library</span>(dplyr)              <span class="co"># Function for working with tabular data</span></a>
<a class="sourceLine" id="cb548-8" data-line-number="8"><span class="kw">library</span>(readr)              <span class="co"># Read rectangular data like CSV</span></a></code></pre></div>
<hr />
</div>
<div id="set-up-the-output-directory" class="section level3">
<h3><span class="header-section-number">7.11.2</span> Set Up the Output Directory</h3>
<p>Set your input directory, and create an output directory for the results.</p>
<div class="sourceCode" id="cb549"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb549-1" data-line-number="1">outDir &lt;-<span class="st"> </span><span class="kw">file.path</span>(<span class="st">&#39;./data/&#39;</span>)                 <span class="co"># Create an output directory if it doesn&#39;t exist</span></a>
<a class="sourceLine" id="cb549-2" data-line-number="2"><span class="kw">suppressWarnings</span>(<span class="kw">dir.create</span>(outDir))                 </a></code></pre></div>
<hr />
</div>
<div id="login-to-earth-data" class="section level3">
<h3><span class="header-section-number">7.11.3</span> Login to Earth Data</h3>
<p>To submit a request, you must first login to the AppEEARS API. Use your private <code>R Script</code> to enter your NASA Earthdata login Username and Password.</p>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb550-1" data-line-number="1"><span class="kw">source</span>(<span class="st">&#39;./Tokens/EARTHDATA_Token.R&#39;</span>) <span class="co">#path will change based on where you stored it</span></a>
<a class="sourceLine" id="cb550-2" data-line-number="2"><span class="kw">exists</span>(<span class="st">&#39;user&#39;</span>)</a></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Decode the username and password to be used to post login request.</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb552-1" data-line-number="1">secret &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">base64_enc</span>(<span class="kw">paste</span>(user, password, <span class="dt">sep =</span> <span class="st">&quot;:&quot;</span>))  <span class="co"># Encode the string of username and password</span></a></code></pre></div>
<p>Next, assign the AppEEARS API URL to a static variable.</p>
<div class="sourceCode" id="cb553"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb553-1" data-line-number="1">API_URL =<span class="st"> &#39;https://lpdaacsvc.cr.usgs.gov/appeears/api/&#39;</span>  <span class="co"># Set the AppEEARS API to a variable</span></a></code></pre></div>
<p>Use the <code>httr</code> package to post your username and password. A successful login will provide you with a token to be used later in this tutorial to submit a request. For more information or if you are experiencing difficulties, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#login">API Documentation</a>.</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb554-1" data-line-number="1"><span class="co"># Insert API URL, call login service, set the component of HTTP header, and post the request to the server</span></a>
<a class="sourceLine" id="cb554-2" data-line-number="2">response &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw">POST</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;login&quot;</span>), </a>
<a class="sourceLine" id="cb554-3" data-line-number="3">                       <span class="kw">add_headers</span>(<span class="st">&quot;Authorization&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Basic&quot;</span>, <span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="st">&quot;&quot;</span>, secret)),</a>
<a class="sourceLine" id="cb554-4" data-line-number="4">                                   <span class="st">&quot;Content-Type&quot;</span> =<span class="st">&quot;application/x-www-form-urlencoded;charset=UTF-8&quot;</span>),</a>
<a class="sourceLine" id="cb554-5" data-line-number="5">                       <span class="dt">body =</span> <span class="st">&quot;grant_type=client_credentials&quot;</span>)</a>
<a class="sourceLine" id="cb554-6" data-line-number="6"></a>
<a class="sourceLine" id="cb554-7" data-line-number="7">response_content &lt;-<span class="st"> </span><span class="kw">content</span>(response)                          <span class="co"># Retrieve the content of the request</span></a>
<a class="sourceLine" id="cb554-8" data-line-number="8">token_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)  <span class="co"># Convert the response to the JSON object</span></a>
<a class="sourceLine" id="cb554-9" data-line-number="9"><span class="kw">remove</span>(user, password, secret, response)                       <span class="co"># Remove the variables that are not needed anymore </span></a>
<a class="sourceLine" id="cb554-10" data-line-number="10"><span class="kw">prettify</span>(token_response)                                       <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;token_type&quot;: &quot;Bearer&quot;,
##     &quot;token&quot;: &quot;-HS6DOrKUrzf3AQHycrrodUzWXThuBWzPphlSNsoJIl1F5kJuS1ueS5TPaFvlMuGD9Gf4wpzTKbqfqaJIZoKbw&quot;,
##     &quot;expiration&quot;: &quot;2020-10-21T16:44:19Z&quot;
## }
## </code></pre>
<p><strong>Above, you should see a Bearer token. Notice that this token will expire approximately 48 hours after being acquired.</strong></p>
<hr />
</div>
</div>
<div id="query-available-products" class="section level2">
<h2><span class="header-section-number">7.12</span> Query Available Products</h2>
<p>The product API provides details about all of the products and layers available in AppEEARS. For more information, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#product">API Documentation</a>.</p>
<p>Below, call the product API to list all of the products available in AppEEARS.</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb556-1" data-line-number="1">prods_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;product&quot;</span>))             <span class="co"># Request the info of all products from product service</span></a>
<a class="sourceLine" id="cb556-2" data-line-number="2">prods_content &lt;-<span class="st"> </span><span class="kw">content</span>(prods_req)                      <span class="co"># Retrieve the content of request </span></a>
<a class="sourceLine" id="cb556-3" data-line-number="3">all_Prods &lt;-<span class="st"> </span><span class="kw">toJSON</span>(prods_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)    <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb556-4" data-line-number="4"><span class="kw">remove</span>(prods_req, prods_content)                         <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb556-5" data-line-number="5"><span class="co"># prettify(all_Prods)                                      # Print the prettified product response</span></a></code></pre></div>
<hr />
</div>
<div id="search-and-explore-available-products" class="section level2">
<h2><span class="header-section-number">7.13</span> Search and Explore Available Products</h2>
<p>Create a list indexed by product name to make it easier to query a specific product.</p>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb557-1" data-line-number="1"><span class="co"># Divides information from each product.</span></a>
<a class="sourceLine" id="cb557-2" data-line-number="2">divided_products &lt;-<span class="st"> </span><span class="kw">split</span>(<span class="kw">fromJSON</span>(all_Prods), <span class="kw">seq</span>(<span class="kw">nrow</span>(<span class="kw">fromJSON</span>(all_Prods))))</a>
<a class="sourceLine" id="cb557-3" data-line-number="3"><span class="co"># Create a list indexed by the product name and version</span></a>
<a class="sourceLine" id="cb557-4" data-line-number="4">products &lt;-<span class="st"> </span><span class="kw">setNames</span>(divided_products,<span class="kw">fromJSON</span>(all_Prods)<span class="op">$</span>ProductAndVersion)</a>
<a class="sourceLine" id="cb557-5" data-line-number="5"><span class="co"># Print no. products available in AppEEARS</span></a>
<a class="sourceLine" id="cb557-6" data-line-number="6"><span class="kw">sprintf</span>(<span class="st">&quot;AppEEARS currently supports %i products.&quot;</span> ,<span class="kw">length</span>(products))   </a></code></pre></div>
<pre><code>## [1] &quot;AppEEARS currently supports 120 products.&quot;</code></pre>
<p>Next, look at the product’s names and descriptions. Below, the ‘ProductAndVersion’ and ‘Description’ are printed for all products.</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb559-1" data-line-number="1"><span class="co"># Loop through the products in the list and print the product name and description</span></a>
<a class="sourceLine" id="cb559-2" data-line-number="2"><span class="cf">for</span> (p <span class="cf">in</span> products){                                   </a>
<a class="sourceLine" id="cb559-3" data-line-number="3">  <span class="kw">print</span>(<span class="kw">paste0</span>(p<span class="op">$</span>ProductAndVersion,<span class="st">&quot; is &quot;</span>,p<span class="op">$</span>Description,<span class="st">&quot; from &quot;</span>,p<span class="op">$</span>Source))  </a>
<a class="sourceLine" id="cb559-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;GPW_DataQualityInd.004 is Quality of Input Data for Population Count and Density Grids from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopCount.004 is UN-adjusted Population Count from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopDensity.004 is UN-adjusted Population Density from SEDAC&quot;
## [1] &quot;MCD12Q1.006 is Land Cover Type from LP DAAC&quot;
## [1] &quot;MCD12Q2.006 is Land Cover Dynamics from LP DAAC&quot;
## [1] &quot;MCD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A3H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD43A1.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A3.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A4.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD64A1.006 is Burned Area (fire) from LP DAAC&quot;
## [1] &quot;MOD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD10A1.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MOD10A2.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MOD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MOD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2HGF.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MOD44B.006 is Vegetation Continuous Fields (VCF) from LP DAAC&quot;
## [1] &quot;MOD44W.006 is Land/Water Mask from LP DAAC&quot;
## [1] &quot;MODOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MODTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;MYD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD10A1.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MYD10A2.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MYD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MYD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MYD17A2HGF.006 is Gross Primary Productivity (GPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD21A1D.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1N.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYDOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MYDTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;NASADEM_NC.001 is Elevation from LP DAAC&quot;
## [1] &quot;NASADEM_NUMNC.001 is Source from LP DAAC&quot;
## [1] &quot;SPL3SMP_E.003 is Enhanced L3 Radiometer Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3SMP.006 is Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL4CMDL.004 is Carbon Net Ecosystem Exchange from NSIDC DAAC&quot;
## [1] &quot;SPL4SMGP.004 is Surface and Root Zone Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3FTP.002 is Freeze/Thaw State from NSIDC DAAC&quot;
## [1] &quot;SRTMGL1_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL1_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;ASTGTM_NC.003 is Elevation from LP DAAC&quot;
## [1] &quot;ASTGTM_NUMNC.003 is Source from LP DAAC&quot;
## [1] &quot;ASTWBD_ATTNC.001 is Water Bodies Database Attributes from LP DAAC&quot;
## [1] &quot;ASTWBD_NC.001 is Water Bodies Database Elevation from LP DAAC&quot;
## [1] &quot;VNP09H1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP09A1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP13A1.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A2.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A3.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP14A1.001 is Thermal Anomalies/Fire from LP DAAC&quot;
## [1] &quot;VNP15A2H.001 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;VNP21A1D.001 is Land Surface Temperature &amp; Emissivity Day (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A1N.001 is Land Surface Temperature &amp; Emissivity Night (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A2.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP43IA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43IA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43IA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43IA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;VNP43MA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43MA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43MA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43MA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;CU_LC08.001 is CONUS Landsat 8 Surface Reflectance from USGS&quot;
## [1] &quot;CU_LE07.001 is CONUS Landsat 7 Surface Reflectance from USGS&quot;
## [1] &quot;CU_LT05.001 is CONUS Landsat 5 Surface Reflectance from USGS&quot;
## [1] &quot;CU_LT04.001 is CONUS Landsat 4 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LC08.001 is Alaska Landsat 8 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LE07.001 is Alaska Landsat 7 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LT05.001 is Alaska Landsat 5 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LT04.001 is Alaska Landsat 4 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LC08.001 is Hawaii Landsat 8 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LE07.001 is Hawaii Landsat 7 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LT05.001 is Hawaii Landsat 5 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LT04.001 is Hawaii Landsat 4 Surface Reflectance from USGS&quot;
## [1] &quot;DAYMET.003 is Daily Surface Weather Data for North America from ORNL&quot;
## [1] &quot;SSEBop_ET.004 is SSEBop Actual Evapotranspiration (ETa) from USGS&quot;
## [1] &quot;eMODIS_Smoothed_NDVI.001 is eMODIS Smoothed Normalized Difference Vegetation Index (NDVI) from USGS&quot;
## [1] &quot;ECO2LSTE.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;ECO2CLD.001 is Cloud Mask from LP DAAC&quot;
## [1] &quot;ECO3ETPTJPL.001 is Evapotranspiration PT-JPL from LP DAAC&quot;
## [1] &quot;ECO3ANCQA.001 is L3/L4 Ancillary Data Quality Assurance (QA) Flags from LP DAAC&quot;
## [1] &quot;ECO4ESIPTJPL.001 is Evaporative Stress Index PT-JPL from LP DAAC&quot;
## [1] &quot;ECO4WUE.001 is Water Use Efficiency from LP DAAC&quot;
## [1] &quot;ECO1BGEO.001 is Geolocation from LP DAAC&quot;
## [1] &quot;ECO1BMAPRAD.001 is Resampled Radiance from LP DAAC&quot;</code></pre>
<p>The product service provides many useful details, including if a product is currently available in AppEEARS, a description, and information on the spatial and temporal resolution. Below, the product details are retrieved using ‘ProductAndVersion’.</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb561-1" data-line-number="1"><span class="co"># Convert the MCD15A3H.006 info to JSON object and print the prettified info</span></a>
<a class="sourceLine" id="cb561-2" data-line-number="2"><span class="kw">prettify</span>(<span class="kw">toJSON</span>(products<span class="op">$</span><span class="st">&quot;MCD15A3H.006&quot;</span>)) </a></code></pre></div>
<pre><code>## [
##     {
##         &quot;Product&quot;: &quot;MCD15A3H&quot;,
##         &quot;Platform&quot;: &quot;Combined MODIS&quot;,
##         &quot;Description&quot;: &quot;Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR)&quot;,
##         &quot;RasterType&quot;: &quot;Tile&quot;,
##         &quot;Resolution&quot;: &quot;500m&quot;,
##         &quot;TemporalGranularity&quot;: &quot;4 day&quot;,
##         &quot;Version&quot;: &quot;006&quot;,
##         &quot;Available&quot;: true,
##         &quot;DocLink&quot;: &quot;https://doi.org/10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;Source&quot;: &quot;LP DAAC&quot;,
##         &quot;TemporalExtentStart&quot;: &quot;2002-07-04&quot;,
##         &quot;TemporalExtentEnd&quot;: &quot;Present&quot;,
##         &quot;Deleted&quot;: false,
##         &quot;DOI&quot;: &quot;10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;
##     }
## ]
## </code></pre>
<p>Also, the products can be searched using their description. Below, search for products containing Leaf Area Index in their description and make a list of their productAndVersion.</p>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb563-1" data-line-number="1">LAI_Products &lt;-<span class="st"> </span><span class="kw">list</span>()                                        <span class="co"># Create an empty list </span></a>
<a class="sourceLine" id="cb563-2" data-line-number="2"><span class="cf">for</span> (p <span class="cf">in</span> products){                                          <span class="co"># Loop through the product list</span></a>
<a class="sourceLine" id="cb563-3" data-line-number="3">  <span class="cf">if</span> (<span class="kw">grepl</span>(<span class="st">&#39;Leaf Area Index&#39;</span>, p<span class="op">$</span>Description )){              <span class="co"># Look through the product description for a keyword </span></a>
<a class="sourceLine" id="cb563-4" data-line-number="4">    LAI_Products &lt;-<span class="st"> </span><span class="kw">append</span>(LAI_Products, p<span class="op">$</span>ProductAndVersion) <span class="co"># Append the LAI products to the list</span></a>
<a class="sourceLine" id="cb563-5" data-line-number="5">  }</a>
<a class="sourceLine" id="cb563-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb563-7" data-line-number="7">LAI_Products</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;MCD15A2H.006&quot;
## 
## [[2]]
## [1] &quot;MCD15A3H.006&quot;
## 
## [[3]]
## [1] &quot;MOD15A2H.006&quot;
## 
## [[4]]
## [1] &quot;MYD15A2H.006&quot;
## 
## [[5]]
## [1] &quot;VNP15A2H.001&quot;</code></pre>
<p>Using the info above, Create a list of desired products.</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb565-1" data-line-number="1">desired_products &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;MCD15A3H.006&#39;</span>,<span class="st">&#39;MOD11A2.006&#39;</span>)   <span class="co"># Create a vector of desired products </span></a>
<a class="sourceLine" id="cb565-2" data-line-number="2">desired_products</a></code></pre></div>
<pre><code>## [1] &quot;MCD15A3H.006&quot; &quot;MOD11A2.006&quot;</code></pre>
<hr />
</div>
<div id="search-and-explore-available-layers" class="section level2">
<h2><span class="header-section-number">7.14</span> Search and Explore Available Layers</h2>
<p>This API call will list all of the layers available for a given product. Each product is referenced by its <code>ProductAndVersion</code> property which is also referred to as the product_id. First, request the layers for the <code>MCD15A3H.006</code> product.</p>
<div class="sourceCode" id="cb567"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb567-1" data-line-number="1"><span class="co"># Request layers for the 1st product in the list: MCD15A3H.006</span></a>
<a class="sourceLine" id="cb567-2" data-line-number="2">MCD15A3H_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">1</span>]))  <span class="co"># Request the info of a product from product URL</span></a>
<a class="sourceLine" id="cb567-3" data-line-number="3">MCD15A3H_content &lt;-<span class="st"> </span><span class="kw">content</span>(MCD15A3H_req)                             <span class="co"># Retrieve content of the request </span></a>
<a class="sourceLine" id="cb567-4" data-line-number="4">MCD15A3H_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(MCD15A3H_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb567-5" data-line-number="5"><span class="kw">remove</span>(MCD15A3H_req, MCD15A3H_content)                                <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb567-6" data-line-number="6"><span class="co">#prettify(MCD15A3H_response)                                          # Print the prettified response</span></a>
<a class="sourceLine" id="cb567-7" data-line-number="7"><span class="kw">names</span>(<span class="kw">fromJSON</span>(MCD15A3H_response))                                    <span class="co"># print the layer&#39;s names    </span></a></code></pre></div>
<pre><code>## [1] &quot;FparExtra_QC&quot;    &quot;FparLai_QC&quot;      &quot;FparStdDev_500m&quot; &quot;Fpar_500m&quot;      
## [5] &quot;LaiStdDev_500m&quot;  &quot;Lai_500m&quot;</code></pre>
<p>Next, request the layers for the <code>MOD11A2.006</code> product.</p>
<div class="sourceCode" id="cb569"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb569-1" data-line-number="1">MOD11_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">2</span>]))  <span class="co"># Request the info of a product from product URL</span></a>
<a class="sourceLine" id="cb569-2" data-line-number="2">MOD11_content &lt;-<span class="st"> </span><span class="kw">content</span>(MOD11_req)                                <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb569-3" data-line-number="3">MOD11_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(MOD11_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)         <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb569-4" data-line-number="4"><span class="kw">remove</span>(MOD11_req, MOD11_content)                                   <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb569-5" data-line-number="5"><span class="kw">names</span>(<span class="kw">fromJSON</span>(MOD11_response))                                    <span class="co"># print the layer names</span></a></code></pre></div>
<pre><code>##  [1] &quot;Clear_sky_days&quot;   &quot;Clear_sky_nights&quot; &quot;Day_view_angl&quot;    &quot;Day_view_time&quot;   
##  [5] &quot;Emis_31&quot;          &quot;Emis_32&quot;          &quot;LST_Day_1km&quot;      &quot;LST_Night_1km&quot;   
##  [9] &quot;Night_view_angl&quot;  &quot;Night_view_time&quot;  &quot;QC_Day&quot;           &quot;QC_Night&quot;</code></pre>
<p>Lastly, select the desired layers and pertinent products and make a data frame using this information. This data frame will be inserted into the nested data frame that will be used to create a JSON object to submit a request in <a href="#section3">Section 3</a>.</p>
<div class="sourceCode" id="cb571"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb571-1" data-line-number="1">desired_layers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;LST_Day_1km&quot;</span>,<span class="st">&quot;LST_Night_1km&quot;</span>,<span class="st">&quot;Lai_500m&quot;</span>)   <span class="co"># Create a vector of desired layers</span></a>
<a class="sourceLine" id="cb571-2" data-line-number="2">desired_prods &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MCD15A3H.006&quot;</span>)  <span class="co"># Create a vector of products including the desired layers</span></a>
<a class="sourceLine" id="cb571-3" data-line-number="3"><span class="co"># Create a data frame including the desired data products and layers</span></a>
<a class="sourceLine" id="cb571-4" data-line-number="4">layers &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">product =</span> desired_prods, <span class="dt">layer =</span> desired_layers) </a></code></pre></div>
<hr />
</div>
<div id="submit-a-point-request" class="section level2">
<h2><span class="header-section-number">7.15</span> Submit a Point Request</h2>
<p>The Submit task API call provides a way to submit a new request to be processed. It can accept data via JSON or query string. In the example below, create a JSON object and submit a request. Tasks in AppEEARS correspond to each request associated with your user account. Therefore, each of the calls to this service requires an authentication token (see <a href="#login">Section 1c.</a>).</p>
<hr />
<div id="compile-a-json-object" class="section level3">
<h3><span class="header-section-number">7.15.1</span> Compile a JSON Object</h3>
<p>In this section, begin by setting up the information needed for a nested data frame that will be later converted to a JSON object for submitting an AppEEARS point request.
For detailed information on required JSON parameters, see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#tasks">API Documentation</a>.</p>
<p>For point requests, beside the date range and desired layers information, the coordinates property must also be inside the task object. Optionally, set <code>id</code> and <code>category</code> properties to further identify your selected coordinates.</p>
<p>We’ll start by requesting point-based data for <code>NEON.D17.SOAP</code> and <code>NEON.D17.SJER</code>:</p>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb572-1" data-line-number="1">startDate &lt;-<span class="st"> &quot;01-01-2020&quot;</span>       <span class="co"># Start of the date range for  which to extract data: MM-DD-YYYY</span></a>
<a class="sourceLine" id="cb572-2" data-line-number="2">endDate &lt;-<span class="st"> &quot;10-01-2020&quot;</span>         <span class="co"># End of the date range for  which to extract data: MM-DD-YYYY</span></a>
<a class="sourceLine" id="cb572-3" data-line-number="3">recurring &lt;-<span class="st"> </span><span class="ot">FALSE</span>              <span class="co"># Specify True for a recurring date range</span></a>
<a class="sourceLine" id="cb572-4" data-line-number="4"><span class="co">#yearRange &lt;- [2000,2016]       # If recurring = True, set yearRange, change start/end date to MM-DD</span></a>
<a class="sourceLine" id="cb572-5" data-line-number="5"></a>
<a class="sourceLine" id="cb572-6" data-line-number="6">lat &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="fl">37.0334</span>, <span class="fl">37.1088</span>)        <span class="co"># Latitude of the point sites </span></a>
<a class="sourceLine" id="cb572-7" data-line-number="7">lon &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="op">-</span><span class="fl">119.2622</span>, <span class="fl">-119.7323</span>)    <span class="co"># Longitude of the point sites</span></a>
<a class="sourceLine" id="cb572-8" data-line-number="8">id &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;0&quot;</span>,<span class="st">&quot;1&quot;</span>)                      <span class="co"># ID for the point sites</span></a>
<a class="sourceLine" id="cb572-9" data-line-number="9">category &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;SOAP&quot;</span>, <span class="st">&quot;SJER&quot;</span>) <span class="co"># Category for point sites</span></a>
<a class="sourceLine" id="cb572-10" data-line-number="10"></a>
<a class="sourceLine" id="cb572-11" data-line-number="11">taskName &lt;-<span class="st"> &#39;NEON SOAP SJER Vegetation&#39;</span>           <span class="co"># Enter name of the task here</span></a>
<a class="sourceLine" id="cb572-12" data-line-number="12">taskType &lt;-<span class="st"> &#39;point&#39;</span>                    <span class="co"># Specify the task type, it can be either &quot;area&quot; or &quot;point&quot;</span></a></code></pre></div>
<p>To be able to successfully submit a task, the JSON object should be structured in a certain way. The code chunk below uses the information from the previous chunk to create a nested data frame. This nested data frame will be converted to JSON object that can be used to complete the request.</p>
<div class="sourceCode" id="cb573"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb573-1" data-line-number="1"><span class="co"># Create a data frame including the date range for the request</span></a>
<a class="sourceLine" id="cb573-2" data-line-number="2">date &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">startDate =</span> startDate, <span class="dt">endDate =</span> endDate)</a>
<a class="sourceLine" id="cb573-3" data-line-number="3"><span class="co"># Create a data frame including lat and long coordinates. ID and category name is optional.</span></a>
<a class="sourceLine" id="cb573-4" data-line-number="4">coordinates &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">id =</span> id, <span class="dt">longitude =</span> lon, <span class="dt">latitude =</span> lat, <span class="dt">category =</span> category)</a>
<a class="sourceLine" id="cb573-5" data-line-number="5"></a>
<a class="sourceLine" id="cb573-6" data-line-number="6">task_info &lt;-<span class="st"> </span><span class="kw">list</span>(date,layers, coordinates)               <span class="co"># Create a list of data frames </span></a>
<a class="sourceLine" id="cb573-7" data-line-number="7"><span class="kw">names</span>(task_info) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dates&quot;</span>, <span class="st">&quot;layers&quot;</span>, <span class="st">&quot;coordinates&quot;</span>)   <span class="co"># Assign names</span></a>
<a class="sourceLine" id="cb573-8" data-line-number="8"></a>
<a class="sourceLine" id="cb573-9" data-line-number="9">task &lt;-<span class="st"> </span><span class="kw">list</span>(task_info, taskName, taskType)               <span class="co"># Create a nested list </span></a>
<a class="sourceLine" id="cb573-10" data-line-number="10"><span class="kw">names</span>(task) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;params&quot;</span>, <span class="st">&quot;task_name&quot;</span>, <span class="st">&quot;task_type&quot;</span>)      <span class="co"># Assign names </span></a>
<a class="sourceLine" id="cb573-11" data-line-number="11"><span class="kw">remove</span>(date, layers, coordinates, task_info)              <span class="co"># Remove the variables that are not needed anymore</span></a></code></pre></div>
<p><code>toJSON</code> function from <code>jsonlite</code> package converts the type of data frame to a string that can be recognized as a JSON object to be submitted as a point request.</p>
<div class="sourceCode" id="cb574"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb574-1" data-line-number="1">task_json &lt;-<span class="st"> </span><span class="kw">toJSON</span>(task,<span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)   <span class="co"># Convert to JSON object</span></a></code></pre></div>
<hr />
</div>
<div id="submit-a-task-request" class="section level3">
<h3><span class="header-section-number">7.15.2</span> Submit a Task Request</h3>
<p>Token information is needed to submit a request. Below the login token is assigned to a variable.</p>
<div class="sourceCode" id="cb575"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb575-1" data-line-number="1">token &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Bearer&quot;</span>, <span class="kw">fromJSON</span>(token_response)<span class="op">$</span>token)     <span class="co"># Save login token to a variable</span></a></code></pre></div>
<p>Below, post a call to the API <strong>task service</strong>, using the <code>task_json</code> created above.</p>
<div class="sourceCode" id="cb576"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb576-1" data-line-number="1"><span class="co"># Post the point request to the API task service</span></a>
<a class="sourceLine" id="cb576-2" data-line-number="2">response &lt;-<span class="st"> </span><span class="kw">POST</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;task&quot;</span>), </a>
<a class="sourceLine" id="cb576-3" data-line-number="3">                 <span class="dt">body =</span> task_json , </a>
<a class="sourceLine" id="cb576-4" data-line-number="4">                 <span class="dt">encode =</span> <span class="st">&quot;json&quot;</span>, </a>
<a class="sourceLine" id="cb576-5" data-line-number="5">                 <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token, <span class="st">&quot;Content-Type&quot;</span> =<span class="st"> &quot;application/json&quot;</span>))</a>
<a class="sourceLine" id="cb576-6" data-line-number="6"></a>
<a class="sourceLine" id="cb576-7" data-line-number="7">task_content &lt;-<span class="st"> </span><span class="kw">content</span>(response)                                 <span class="co"># Retrieve content of the request </span></a>
<a class="sourceLine" id="cb576-8" data-line-number="8">task_response &lt;-<span class="st"> </span><span class="kw">prettify</span>(<span class="kw">toJSON</span>(task_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>))<span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb576-9" data-line-number="9"><span class="kw">remove</span>(response, task_content)                                    <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb576-10" data-line-number="10">task_response                                                     <span class="co"># Print the prettified task response</span></a></code></pre></div>
<pre><code>## {
##     &quot;task_id&quot;: &quot;3a808dfa-ff0b-48f9-ac7b-9f598d73233b&quot;,
##     &quot;status&quot;: &quot;pending&quot;
## }
## </code></pre>
<hr />
</div>
<div id="retrieve-task-status" class="section level3">
<h3><span class="header-section-number">7.15.3</span> Retrieve Task Status</h3>
<p>This API call will list all of the requests associated with your user account, automatically sorted by date descending with the most recent requests listed first.
The AppEEARS API contains some helpful formatting resources. Below, limit the API response to 2 entries for the last 2 requests and set pretty to True to format the response as an organized JSON object to make it easier to read. Additional information on AppEEARS API
<a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#retrieve-task">retrieve task</a>, <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#pagination">pagination</a>, and <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#formatting">formatting</a> can be found in the API documentation.</p>
<div class="sourceCode" id="cb578"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb578-1" data-line-number="1">params &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">limit =</span> <span class="dv">2</span>, <span class="dt">pretty =</span> <span class="ot">TRUE</span>)                            <span class="co"># Set up query parameters</span></a>
<a class="sourceLine" id="cb578-2" data-line-number="2"><span class="co"># Request the task status of last 2 requests from task URL</span></a>
<a class="sourceLine" id="cb578-3" data-line-number="3">response_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;task&quot;</span>), <span class="dt">query =</span> params, <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb578-4" data-line-number="4">response_content &lt;-<span class="st"> </span><span class="kw">content</span>(response_req)                           <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb578-5" data-line-number="5">status_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb578-6" data-line-number="6"><span class="kw">remove</span>(response_req, response_content)                              <span class="co"># Remove the variables that are not needed anymore                         </span></a>
<a class="sourceLine" id="cb578-7" data-line-number="7"><span class="kw">prettify</span>(status_response)                                           <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## [
##     {
##         &quot;params&quot;: {
##             &quot;dates&quot;: [
##                 {
##                     &quot;endDate&quot;: &quot;10-01-2020&quot;,
##                     &quot;startDate&quot;: &quot;01-01-2020&quot;
##                 }
##             ],
##             &quot;layers&quot;: [
##                 {
##                     &quot;layer&quot;: &quot;LST_Day_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;LST_Night_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;Lai_500m&quot;,
##                     &quot;product&quot;: &quot;MCD15A3H.006&quot;
##                 }
##             ]
##         },
##         &quot;status&quot;: &quot;pending&quot;,
##         &quot;created&quot;: &quot;2020-10-07T21:37:14.871259&quot;,
##         &quot;task_id&quot;: &quot;3a808dfa-ff0b-48f9-ac7b-9f598d73233b&quot;,
##         &quot;updated&quot;: &quot;2020-10-07T21:37:14.883937&quot;,
##         &quot;user_id&quot;: &quot;kdw223@nau.edu&quot;,
##         &quot;estimate&quot;: {
##             &quot;request_size&quot;: 204
##         },
##         &quot;task_name&quot;: &quot;NEON SOAP SJER Vegetation&quot;,
##         &quot;task_type&quot;: &quot;point&quot;,
##         &quot;api_version&quot;: &quot;v1&quot;,
##         &quot;svc_version&quot;: &quot;2.47&quot;,
##         &quot;web_version&quot;: {
## 
##         },
##         &quot;expires_on&quot;: &quot;2020-11-06T21:37:14.883937&quot;
##     },
##     {
##         &quot;error&quot;: {
## 
##         },
##         &quot;params&quot;: {
##             &quot;dates&quot;: [
##                 {
##                     &quot;endDate&quot;: &quot;10-01-2020&quot;,
##                     &quot;startDate&quot;: &quot;01-01-2020&quot;
##                 }
##             ],
##             &quot;layers&quot;: [
##                 {
##                     &quot;layer&quot;: &quot;LST_Day_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;LST_Night_1km&quot;,
##                     &quot;product&quot;: &quot;MOD11A2.006&quot;
##                 },
##                 {
##                     &quot;layer&quot;: &quot;Lai_500m&quot;,
##                     &quot;product&quot;: &quot;MCD15A3H.006&quot;
##                 }
##             ]
##         },
##         &quot;status&quot;: &quot;done&quot;,
##         &quot;created&quot;: &quot;2020-10-07T21:00:20.497312&quot;,
##         &quot;task_id&quot;: &quot;de45360e-d6e4-4577-97a1-760b9893c002&quot;,
##         &quot;updated&quot;: &quot;2020-10-07T21:02:10.990738&quot;,
##         &quot;user_id&quot;: &quot;kdw223@nau.edu&quot;,
##         &quot;attempts&quot;: 1,
##         &quot;estimate&quot;: {
##             &quot;request_size&quot;: 204
##         },
##         &quot;retry_at&quot;: {
## 
##         },
##         &quot;completed&quot;: &quot;2020-10-07T21:02:10.987115&quot;,
##         &quot;task_name&quot;: &quot;NEON SOAP SJER Vegetation&quot;,
##         &quot;task_type&quot;: &quot;point&quot;,
##         &quot;api_version&quot;: &quot;v1&quot;,
##         &quot;svc_version&quot;: &quot;2.47&quot;,
##         &quot;web_version&quot;: {
## 
##         },
##         &quot;size_category&quot;: &quot;0&quot;,
##         &quot;expires_on&quot;: &quot;2020-11-06T21:02:10.990738&quot;
##     }
## ]
## </code></pre>
<p>The task_id that was generated when submitting your request can also be used to retrieve a task status.</p>
<div class="sourceCode" id="cb580"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb580-1" data-line-number="1">task_id &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(task_response)<span class="op">$</span>task_id                 <span class="co"># Extract the task_id of submitted point request</span></a>
<a class="sourceLine" id="cb580-2" data-line-number="2"><span class="co"># Request the task status of a task with the provided task_id from task URL</span></a>
<a class="sourceLine" id="cb580-3" data-line-number="3">status_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;task/&quot;</span>, task_id), <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token)) </a>
<a class="sourceLine" id="cb580-4" data-line-number="4">status_content &lt;-<span class="st"> </span><span class="kw">content</span>(status_req)                       <span class="co"># Retrieve content of the request       </span></a>
<a class="sourceLine" id="cb580-5" data-line-number="5">statusResponse &lt;-<span class="kw">toJSON</span>(status_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)  <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb580-6" data-line-number="6">stat &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(statusResponse)<span class="op">$</span>status                     <span class="co"># Assign the task status to a variable  </span></a>
<a class="sourceLine" id="cb580-7" data-line-number="7"><span class="kw">remove</span>(status_req, status_content)                          <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb580-8" data-line-number="8"><span class="kw">prettify</span>(statusResponse)                                    <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;params&quot;: {
##         &quot;dates&quot;: [
##             {
##                 &quot;endDate&quot;: &quot;10-01-2020&quot;,
##                 &quot;startDate&quot;: &quot;01-01-2020&quot;
##             }
##         ],
##         &quot;layers&quot;: [
##             {
##                 &quot;layer&quot;: &quot;LST_Day_1km&quot;,
##                 &quot;product&quot;: &quot;MOD11A2.006&quot;
##             },
##             {
##                 &quot;layer&quot;: &quot;LST_Night_1km&quot;,
##                 &quot;product&quot;: &quot;MOD11A2.006&quot;
##             },
##             {
##                 &quot;layer&quot;: &quot;Lai_500m&quot;,
##                 &quot;product&quot;: &quot;MCD15A3H.006&quot;
##             }
##         ],
##         &quot;coordinates&quot;: [
##             {
##                 &quot;id&quot;: &quot;0&quot;,
##                 &quot;category&quot;: &quot;SOAP&quot;,
##                 &quot;latitude&quot;: 37.0334,
##                 &quot;longitude&quot;: -119.2622
##             },
##             {
##                 &quot;id&quot;: &quot;1&quot;,
##                 &quot;category&quot;: &quot;SJER&quot;,
##                 &quot;latitude&quot;: 37.1088,
##                 &quot;longitude&quot;: -119.7323
##             }
##         ]
##     },
##     &quot;status&quot;: &quot;pending&quot;,
##     &quot;created&quot;: &quot;2020-10-07T21:37:14.871259&quot;,
##     &quot;task_id&quot;: &quot;3a808dfa-ff0b-48f9-ac7b-9f598d73233b&quot;,
##     &quot;updated&quot;: &quot;2020-10-07T21:37:14.883937&quot;,
##     &quot;user_id&quot;: &quot;kdw223@nau.edu&quot;,
##     &quot;estimate&quot;: {
##         &quot;request_size&quot;: 204
##     },
##     &quot;task_name&quot;: &quot;NEON SOAP SJER Vegetation&quot;,
##     &quot;task_type&quot;: &quot;point&quot;,
##     &quot;api_version&quot;: &quot;v1&quot;,
##     &quot;svc_version&quot;: &quot;2.47&quot;,
##     &quot;web_version&quot;: {
## 
##     },
##     &quot;expires_on&quot;: &quot;2020-11-06T21:37:14.883937&quot;
## }
## </code></pre>
<p>Retrieve the task status every 5 seconds. The task status should be <code>done</code> to be able to download the output.</p>
<div class="sourceCode" id="cb582"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb582-1" data-line-number="1"><span class="cf">while</span> (stat <span class="op">!=</span><span class="st"> &#39;done&#39;</span>) {</a>
<a class="sourceLine" id="cb582-2" data-line-number="2">  <span class="kw">Sys.sleep</span>(<span class="dv">5</span>)</a>
<a class="sourceLine" id="cb582-3" data-line-number="3">  <span class="co"># Request the task status and retrieve content of request from task URL</span></a>
<a class="sourceLine" id="cb582-4" data-line-number="4">  stat_content &lt;-<span class="st"> </span><span class="kw">content</span>(<span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;task/&quot;</span>, task_id), <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token)))</a>
<a class="sourceLine" id="cb582-5" data-line-number="5">  stat &lt;-<span class="kw">fromJSON</span>(<span class="kw">toJSON</span>(stat_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>))<span class="op">$</span>status    <span class="co"># Get the status</span></a>
<a class="sourceLine" id="cb582-6" data-line-number="6">  <span class="kw">remove</span>(stat_content) </a>
<a class="sourceLine" id="cb582-7" data-line-number="7">  <span class="kw">print</span>(stat)</a>
<a class="sourceLine" id="cb582-8" data-line-number="8">}</a></code></pre></div>
<hr />
</div>
</div>
<div id="download-a-request" class="section level2">
<h2><span class="header-section-number">7.16</span> Download a Request</h2>
<div id="explore-files-in-request-output" class="section level3">
<h3><span class="header-section-number">7.16.1</span> Explore Files in Request Output</h3>
<p>Before downloading the request output, examine the files contained in the request output.</p>
<div class="sourceCode" id="cb583"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb583-1" data-line-number="1"><span class="co"># Request the task bundle info from API bundle URL</span></a>
<a class="sourceLine" id="cb583-2" data-line-number="2">response &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id), <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb583-3" data-line-number="3">response_content &lt;-<span class="st"> </span><span class="kw">content</span>(response)                          <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb583-4" data-line-number="4">bundle_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)  <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb583-5" data-line-number="5"><span class="kw">prettify</span>(bundle_response)                                       <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;files&quot;: [
##         {
##             &quot;sha256&quot;: &quot;e12e3634d11491fd77aa4c8f347b94304885746713852d21a08c635b2a9e4852&quot;,
##             &quot;file_id&quot;: &quot;82ab979e-0dbe-4869-b676-88193c79727f&quot;,
##             &quot;file_name&quot;: &quot;NEON-SOAP-SJER-Vegetation-MCD15A3H-006-results.csv&quot;,
##             &quot;file_size&quot;: 68260,
##             &quot;file_type&quot;: &quot;csv&quot;
##         },
##         {
##             &quot;sha256&quot;: &quot;e465df89151b28d63a1dda2420cedec7f24b383d03e0482083839565a27f8d5d&quot;,
##             &quot;file_id&quot;: &quot;ab2e3574-3c50-44dd-bafd-c30b1fb4d99d&quot;,
##             &quot;file_name&quot;: &quot;NEON-SOAP-SJER-Vegetation-MOD11A2-006-results.csv&quot;,
##             &quot;file_size&quot;: 28570,
##             &quot;file_type&quot;: &quot;csv&quot;
##         },
##         {
##             &quot;sha256&quot;: &quot;100dd40b43760430c900eea1d39b78a73bf880ae397020ad29bcf1c58947e8b5&quot;,
##             &quot;file_id&quot;: &quot;765639a0-7278-497d-aca6-433ebf41d021&quot;,
##             &quot;file_name&quot;: &quot;NEON-SOAP-SJER-Vegetation-granule-list.txt&quot;,
##             &quot;file_size&quot;: 11402,
##             &quot;file_type&quot;: &quot;txt&quot;
##         },
##         {
##             &quot;sha256&quot;: &quot;6b824abc02ce3e49409e332e5b941533a66b2ff4c2a362b4d3b5b31b4266ecd5&quot;,
##             &quot;file_id&quot;: &quot;16eae3d4-8876-403e-b673-2e29f2d8324a&quot;,
##             &quot;file_name&quot;: &quot;NEON-SOAP-SJER-Vegetation-request.json&quot;,
##             &quot;file_size&quot;: 883,
##             &quot;file_type&quot;: &quot;json&quot;
##         },
##         {
##             &quot;sha256&quot;: &quot;3e025646ef6eadb42eb4d9f172db96ed824bbc72333519f0c8f44c3449fe4d7d&quot;,
##             &quot;file_id&quot;: &quot;ff3f16d7-75c2-4185-8ce6-f6a3cc4de17c&quot;,
##             &quot;file_name&quot;: &quot;NEON-SOAP-SJER-Vegetation-MCD15A3H-006-metadata.xml&quot;,
##             &quot;file_size&quot;: 17255,
##             &quot;file_type&quot;: &quot;xml&quot;
##         },
##         {
##             &quot;sha256&quot;: &quot;650cd511fcfc442fe675e35d14a244247c565085d5dcbb215782354d7ceda774&quot;,
##             &quot;file_id&quot;: &quot;ffa0432e-cc7a-4cde-8264-6ad97dbed7c3&quot;,
##             &quot;file_name&quot;: &quot;NEON-SOAP-SJER-Vegetation-MOD11A2-006-metadata.xml&quot;,
##             &quot;file_size&quot;: 17217,
##             &quot;file_type&quot;: &quot;xml&quot;
##         },
##         {
##             &quot;sha256&quot;: &quot;337cd424036258f85f9d216debfe1f9b0649bf2971ea1ce356a44b9c9ca51078&quot;,
##             &quot;file_id&quot;: &quot;aa98b009-c955-468d-bd03-9ca7068969b9&quot;,
##             &quot;file_name&quot;: &quot;README.md&quot;,
##             &quot;file_size&quot;: 17894,
##             &quot;file_type&quot;: &quot;txt&quot;
##         }
##     ],
##     &quot;created&quot;: &quot;2020-10-07T21:38:39.407692&quot;,
##     &quot;task_id&quot;: &quot;3a808dfa-ff0b-48f9-ac7b-9f598d73233b&quot;,
##     &quot;updated&quot;: &quot;2020-10-07T21:39:07.732995&quot;,
##     &quot;bundle_type&quot;: &quot;point&quot;
## }
## </code></pre>
<hr />
</div>
</div>
<div id="download-files-in-a-request-automation" class="section level2">
<h2><span class="header-section-number">7.17</span> Download Files in a Request (Automation)</h2>
<p>The bundle API provides information about completed tasks. For any completed task, a bundle can be queried to return the files contained as a part of the task request. Below, call the bundle API and return all of the output files. Next, read the contents of the bundle in JSON format and loop through file_id to automate downloading all of the output files into the output directory. For more information, please see <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#bundle">AppEEARS API Documentation</a>.</p>
<div class="sourceCode" id="cb585"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb585-1" data-line-number="1">bundle &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(bundle_response)<span class="op">$</span>files</a>
<a class="sourceLine" id="cb585-2" data-line-number="2"><span class="cf">for</span> (id <span class="cf">in</span> bundle<span class="op">$</span>file_id){</a>
<a class="sourceLine" id="cb585-3" data-line-number="3">  <span class="co"># retrieve the filename from the file_id</span></a>
<a class="sourceLine" id="cb585-4" data-line-number="4">  filename &lt;-<span class="st"> </span>bundle[bundle<span class="op">$</span>file_id <span class="op">==</span><span class="st"> </span>id,]<span class="op">$</span>file_name     </a>
<a class="sourceLine" id="cb585-5" data-line-number="5">  <span class="co"># create a destination directory to store the file in</span></a>
<a class="sourceLine" id="cb585-6" data-line-number="6">  filepath &lt;-<span class="st"> </span><span class="kw">paste</span>(outDir,filename, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb585-7" data-line-number="7">  <span class="kw">suppressWarnings</span>(<span class="kw">dir.create</span>(<span class="kw">dirname</span>(filepath)))</a>
<a class="sourceLine" id="cb585-8" data-line-number="8">  <span class="co"># write the file to disk using the destination directory and file name </span></a>
<a class="sourceLine" id="cb585-9" data-line-number="9">  response &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id, <span class="st">&quot;/&quot;</span>, id),</a>
<a class="sourceLine" id="cb585-10" data-line-number="10">                  <span class="kw">write_disk</span>(filepath, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>),</a>
<a class="sourceLine" id="cb585-11" data-line-number="11">                  <span class="kw">progress</span>(),</a>
<a class="sourceLine" id="cb585-12" data-line-number="12">                  <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb585-13" data-line-number="13">  }</a></code></pre></div>
<hr />
</div>
<div id="explore-appeears-quality-service" class="section level2">
<h2><span class="header-section-number">7.18</span> Explore AppEEARS Quality Service</h2>
<p>The quality API provides quality details about all of the data products available in AppEEARS. Below are examples of how to query the quality API for listing quality products, layers, and values. The final example (<a href="#decode">Section 5c.</a>) demonstrates how AppEEARS quality services can be leveraged to decode pertinent quality values for your data. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a>.</p>
<p>First, reset pagination to include offset which allows you to set the number of results to skip before starting to return entries. Next, make a call to list all of the data product layers and the associated quality product and layer information.</p>
<div class="sourceCode" id="cb586"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb586-1" data-line-number="1">params &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">limit =</span> <span class="dv">6</span>, <span class="dt">offset =</span> <span class="dv">20</span>, <span class="dt">pretty =</span> <span class="ot">TRUE</span>)     <span class="co"># Set up the query parameters</span></a>
<a class="sourceLine" id="cb586-2" data-line-number="2">q_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality&quot;</span>), <span class="dt">query =</span> params)  <span class="co"># Request the quality info from quality API_URL</span></a>
<a class="sourceLine" id="cb586-3" data-line-number="3">q_content &lt;-<span class="st"> </span><span class="kw">content</span>(q_req)                               <span class="co"># Retrieve the content of request</span></a>
<a class="sourceLine" id="cb586-4" data-line-number="4">q_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(q_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)        <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb586-5" data-line-number="5"><span class="kw">remove</span>(params, q_req, q_content)                          <span class="co"># Remove the variables that are not needed </span></a>
<a class="sourceLine" id="cb586-6" data-line-number="6"><span class="kw">prettify</span>(q_response)                                      <span class="co"># Print the prettified quality information</span></a></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB1&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB2&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB3&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB4&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB5&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB7&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     }
## ]
## </code></pre>
<hr />
<div id="list-quality-layers" class="section level3">
<h3><span class="header-section-number">7.18.1</span> List Quality Layers</h3>
<p>This API call will list all of the quality layer information for a product. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a></p>
<div class="sourceCode" id="cb588"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb588-1" data-line-number="1">productAndVersion &lt;-<span class="st"> &#39;MCD15A3H.006&#39;</span>                            <span class="co"># Assign ProductAndVersion to a variable </span></a>
<a class="sourceLine" id="cb588-2" data-line-number="2"><span class="co"># Request the quality info from quality API for a specific product</span></a>
<a class="sourceLine" id="cb588-3" data-line-number="3">MCD15A3H_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion))</a>
<a class="sourceLine" id="cb588-4" data-line-number="4">MCD15A3H_content &lt;-<span class="st"> </span><span class="kw">content</span>(MCD15A3H_req)                      <span class="co"># Retrieve the content of request</span></a>
<a class="sourceLine" id="cb588-5" data-line-number="5">MCD15A3H_quality &lt;-<span class="st"> </span><span class="kw">toJSON</span>(MCD15A3H_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)<span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb588-6" data-line-number="6"><span class="kw">remove</span>(MCD15A3H_req, MCD15A3H_content)                         <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb588-7" data-line-number="7"><span class="kw">prettify</span>(MCD15A3H_quality)                                     <span class="co"># Print the prettified quality information</span></a></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Fpar_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;FparStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Lai_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;LaiStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="inspect-quality-values" class="section level3">
<h3><span class="header-section-number">7.18.2</span> Inspect Quality Values</h3>
<p>This API call will list all of the values for a given quality layer.</p>
<div class="sourceCode" id="cb590"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb590-1" data-line-number="1">quality_layer &lt;-<span class="st"> &#39;FparLai_QC&#39;</span>                                 <span class="co"># assign a quality layer to a variable</span></a>
<a class="sourceLine" id="cb590-2" data-line-number="2"><span class="co"># Request the specified quality layer info from quality API</span></a>
<a class="sourceLine" id="cb590-3" data-line-number="3">quality_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>,  productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>))</a>
<a class="sourceLine" id="cb590-4" data-line-number="4">quality_content &lt;-<span class="st"> </span><span class="kw">content</span>(quality_req)                        <span class="co"># Retrieve the content of request</span></a>
<a class="sourceLine" id="cb590-5" data-line-number="5">quality_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(quality_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>) <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb590-6" data-line-number="6"><span class="kw">remove</span>(quality_req, quality_content)                           <span class="co"># Remove the variables that are not needed </span></a>
<a class="sourceLine" id="cb590-7" data-line-number="7"><span class="kw">prettify</span>(quality_response)                                     <span class="co"># Print the quality response as a data frame</span></a></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Good quality (main algorithm with or without saturation)&quot;,
##         &quot;Acceptable&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;,
##         &quot;Acceptable&quot;: false
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Terra&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Aqua&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Dead detectors caused &gt;50% adjacent detector retrieval&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Significant clouds NOT present (clear)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Significant clouds WERE present&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Mixed cloud present in pixel&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Cloud state not defined, assumed clear&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Main (RT) method used with saturation. Good, very usable&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to bad geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to problems other than geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 4,
##         &quot;Description&quot;: &quot;Pixel not produced at all, value couldn&#39;t be retrieved (possible reasons: bad L1B data, unusable MOD09GA data)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     }
## ]
## </code></pre>
<hr />
</div>
</div>
<div id="decode-quality-values" class="section level2">
<h2><span class="header-section-number">7.19</span> Decode Quality Values</h2>
<p>This API call will decode the bits for a given quality value.</p>
<div class="sourceCode" id="cb592"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb592-1" data-line-number="1">quality_value &lt;-<span class="st"> </span><span class="dv">1</span>                        <span class="co"># Assign a quality value to a variable </span></a>
<a class="sourceLine" id="cb592-2" data-line-number="2"><span class="co"># Request and retrieve information for provided quality value from quality API URL </span></a>
<a class="sourceLine" id="cb592-3" data-line-number="3">response &lt;-<span class="st"> </span><span class="kw">content</span>(<span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="st">&quot;/&quot;</span>, quality_value)))</a>
<a class="sourceLine" id="cb592-4" data-line-number="4">q_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)     <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb592-5" data-line-number="5"><span class="kw">remove</span>(response)                                      <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb592-6" data-line-number="6"><span class="kw">prettify</span>(q_response)                                  <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;Binary Representation&quot;: &quot;0b00000001&quot;,
##     &quot;MODLAND&quot;: {
##         &quot;bits&quot;: &quot;0b1&quot;,
##         &quot;description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;
##     },
##     &quot;Sensor&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Terra&quot;
##     },
##     &quot;DeadDetector&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;
##     },
##     &quot;CloudState&quot;: {
##         &quot;bits&quot;: &quot;0b00&quot;,
##         &quot;description&quot;: &quot;Significant clouds NOT present (clear)&quot;
##     },
##     &quot;SCF_QC&quot;: {
##         &quot;bits&quot;: &quot;0b000&quot;,
##         &quot;description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;
##     }
## }
## </code></pre>
<hr />
</div>
<div id="load-request-output-and-visualize" class="section level2">
<h2><span class="header-section-number">7.20</span> Load Request Output and Visualize</h2>
<p>Here, load the CSV file containing the results from your request using <code>readr</code> package, and create some basic visualizations using the <code>ggplot2</code> package.</p>
</div>
<div id="load-a-csv" class="section level2">
<h2><span class="header-section-number">7.21</span> Load a CSV</h2>
<p>Use the <code>readr</code> package to load the CSV file containing the results from the AppEEARS request.</p>
<div class="sourceCode" id="cb594"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb594-1" data-line-number="1"><span class="co"># Make a list of csv files in the output directory</span></a>
<a class="sourceLine" id="cb594-2" data-line-number="2">files &lt;-<span class="st"> </span><span class="kw">list.files</span>(outDir, <span class="dt">pattern =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">MOD11A2-006-results.csv$&quot;</span>) </a>
<a class="sourceLine" id="cb594-3" data-line-number="3"><span class="co"># Read the MOD11A2 results</span></a>
<a class="sourceLine" id="cb594-4" data-line-number="4">df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="kw">paste0</span>(outDir,<span class="st">&quot;/&quot;</span>, files))</a></code></pre></div>
<p>Select the MOD11A2.006 LST Day column for the data from Grand Canyon National Park using <code>dplyr</code> package.</p>
<div class="sourceCode" id="cb595"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb595-1" data-line-number="1">lst_GC &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb595-2" data-line-number="2"><span class="st">  </span><span class="co"># Filter df for the point from GC</span></a>
<a class="sourceLine" id="cb595-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(Category <span class="op">==</span><span class="st"> &quot;SOAP&quot;</span>) <span class="op">%&gt;%</span><span class="st">  </span></a>
<a class="sourceLine" id="cb595-4" data-line-number="4"><span class="st">  </span><span class="co"># Select desired columns</span></a>
<a class="sourceLine" id="cb595-5" data-line-number="5"><span class="st">  </span><span class="kw">select</span>(Latitude, Longitude, Date ,MOD11A2_<span class="dv">006</span>_LST_Day_1km, MOD11A2_<span class="dv">006</span>_LST_Night_1km) </a></code></pre></div>
<p>Extract information for LST_DAY_1KM from MOD11_response of product service call from earlier in the tutorial.</p>
<div class="sourceCode" id="cb596"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb596-1" data-line-number="1"><span class="co">#fromJSON(MOD11_response)$LST_Day_1km                        # Extract all the info for LST_Day_1km layer</span></a>
<a class="sourceLine" id="cb596-2" data-line-number="2"></a>
<a class="sourceLine" id="cb596-3" data-line-number="3">fillValue &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(MOD11_response)<span class="op">$</span>LST_Day_1km<span class="op">$</span>FillValue  <span class="co"># Assign fill value to a variable</span></a>
<a class="sourceLine" id="cb596-4" data-line-number="4">unit &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(MOD11_response)<span class="op">$</span>LST_Day_1km<span class="op">$</span>Units           <span class="co"># Assign unit to a variable</span></a>
<a class="sourceLine" id="cb596-5" data-line-number="5"><span class="kw">sprintf</span>(<span class="st">&quot;Fill value for LST_DAY_1KM is: %i&quot;</span> ,fillValue)      <span class="co"># Print LST_DAY_1KM fill value</span></a></code></pre></div>
<pre><code>## [1] &quot;Fill value for LST_DAY_1KM is: 0&quot;</code></pre>
<div class="sourceCode" id="cb598"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb598-1" data-line-number="1"><span class="kw">sprintf</span>(<span class="st">&quot;Unit for LST_DAY_1KM is: %s&quot;</span> ,unit)                 <span class="co"># Print LST_DAY_1KM unit </span></a></code></pre></div>
<pre><code>## [1] &quot;Unit for LST_DAY_1KM is: Kelvin&quot;</code></pre>
<hr />
</div>
<div id="plot-results-linescatter-plots" class="section level2">
<h2><span class="header-section-number">7.22</span> Plot Results (Line/Scatter Plots)</h2>
<p>Next, plot a time series of daytime LST for the selected point in Grand Canyon National Park for 2018. Below, filter the LST data to exclude fill values.</p>
<div class="sourceCode" id="cb600"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb600-1" data-line-number="1">lst_GC &lt;-<span class="st"> </span>lst_GC <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb600-2" data-line-number="2"><span class="st">  </span><span class="co"># exclude NoData</span></a>
<a class="sourceLine" id="cb600-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(MOD11A2_<span class="dv">006</span>_LST_Day_1km <span class="op">!=</span><span class="st"> </span>fillValue)<span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb600-4" data-line-number="4"><span class="st">  </span><span class="kw">filter</span>(MOD11A2_<span class="dv">006</span>_LST_Night_1km <span class="op">!=</span><span class="st"> </span>fillValue)</a></code></pre></div>
<p>Next, plot LST Day as a time series with some additional formatting using <code>ggplot2</code>.</p>
<div class="sourceCode" id="cb601"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb601-1" data-line-number="1"><span class="kw">ggplot</span>(lst_GC)<span class="op">+</span></a>
<a class="sourceLine" id="cb601-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span> Date, <span class="dt">y =</span> MOD11A2_<span class="dv">006</span>_LST_Day_1km), <span class="dt">size=</span><span class="dv">1</span>, <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb601-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x=</span> Date, <span class="dt">y =</span> MOD11A2_<span class="dv">006</span>_LST_Day_1km), <span class="dt">shape=</span><span class="dv">18</span> , <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb601-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Time Series&quot;</span>,</a>
<a class="sourceLine" id="cb601-5" data-line-number="5">       <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb601-6" data-line-number="6">       <span class="dt">y =</span> <span class="kw">sprintf</span>( <span class="st">&quot;LST_Day_1km (%s)&quot;</span>, unit))<span class="op">+</span></a>
<a class="sourceLine" id="cb601-7" data-line-number="7"><span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;16 day&quot;</span>)<span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb601-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">250</span>, <span class="dv">325</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">250</span>, <span class="dv">325</span>, <span class="dv">10</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb601-9" data-line-number="9"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="fl">2.5</span>),<span class="dt">hjust =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb601-10" data-line-number="10">        <span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="dv">1</span>)),</a>
<a class="sourceLine" id="cb601-11" data-line-number="11">        <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;black&quot;</span>),</a>
<a class="sourceLine" id="cb601-12" data-line-number="12">        <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">angle=</span> <span class="dv">315</span> , <span class="dt">size =</span> <span class="dv">10</span>),</a>
<a class="sourceLine" id="cb601-13" data-line-number="13">        <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">angle=</span> <span class="dv">0</span>, <span class="dt">size =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb601-14" data-line-number="14">        )</a></code></pre></div>
<p><img src="08-NASA_EOS_files/figure-html/unnamed-chunk-36-1.png" width="1152" /></p>
<p>Using the <code>tidyr</code> package, the LST Day and Night values for Grand Canyon NP are being gathered in a single column to be used to make a plot including both <code>LST_Day_1km</code> and <code>LST_Night_1km</code>.</p>
<div class="sourceCode" id="cb602"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb602-1" data-line-number="1">lst_GC_DN &lt;-<span class="st"> </span>tidyr<span class="op">::</span><span class="kw">gather</span>(lst_GC, <span class="dt">key =</span> Tstat , <span class="dt">value =</span> LST, MOD11A2_<span class="dv">006</span>_LST_Day_1km, MOD11A2_<span class="dv">006</span>_LST_Night_1km)</a>
<a class="sourceLine" id="cb602-2" data-line-number="2">lst_GC_DN[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,]                     <span class="co"># print the five first observations </span></a></code></pre></div>
<pre><code>## # A tibble: 5 x 5
##   Latitude Longitude Date       Tstat                     LST
##      &lt;dbl&gt;     &lt;dbl&gt; &lt;date&gt;     &lt;chr&gt;                   &lt;dbl&gt;
## 1     37.0     -119. 2019-12-27 MOD11A2_006_LST_Day_1km  278.
## 2     37.0     -119. 2020-01-01 MOD11A2_006_LST_Day_1km  283.
## 3     37.0     -119. 2020-01-09 MOD11A2_006_LST_Day_1km  280.
## 4     37.0     -119. 2020-01-17 MOD11A2_006_LST_Day_1km  283.
## 5     37.0     -119. 2020-01-25 MOD11A2_006_LST_Day_1km  285.</code></pre>
<p>Next, plot LST Day and Night as a time series with some additional formatting.</p>
<div class="sourceCode" id="cb604"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb604-1" data-line-number="1"><span class="kw">ggplot</span>(lst_GC_DN)<span class="op">+</span></a>
<a class="sourceLine" id="cb604-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_line</span>(<span class="kw">aes</span>(<span class="dt">x=</span> Date, <span class="dt">y =</span> LST, <span class="dt">color =</span> Tstat), <span class="dt">size=</span><span class="dv">1</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb604-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x=</span> Date, <span class="dt">y =</span> LST, <span class="dt">color =</span> Tstat), <span class="dt">shape=</span><span class="dv">18</span> , <span class="dt">size =</span> <span class="dv">3</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb604-4" data-line-number="4"><span class="st">  </span><span class="kw">scale_fill_manual</span>(<span class="dt">values=</span><span class="kw">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;blue&quot;</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb604-5" data-line-number="5"><span class="st">  </span><span class="kw">scale_color_manual</span>(<span class="dt">values=</span><span class="kw">c</span>(<span class="st">&#39;red&#39;</span>,<span class="st">&#39;blue&#39;</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb604-6" data-line-number="6"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Time Series&quot;</span>,</a>
<a class="sourceLine" id="cb604-7" data-line-number="7">       <span class="dt">x =</span> <span class="st">&quot;Date&quot;</span>,</a>
<a class="sourceLine" id="cb604-8" data-line-number="8">       <span class="dt">y =</span> <span class="kw">sprintf</span>( <span class="st">&quot;LST_Day_1km (%s)&quot;</span>,unit))<span class="op">+</span></a>
<a class="sourceLine" id="cb604-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_x_date</span>(<span class="dt">date_breaks =</span> <span class="st">&quot;16 day&quot;</span>)<span class="op">+</span><span class="st">  </span></a>
<a class="sourceLine" id="cb604-10" data-line-number="10"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="dv">250</span>, <span class="dv">325</span>), <span class="dt">breaks =</span> <span class="kw">seq</span>(<span class="dv">250</span>, <span class="dv">325</span>, <span class="dv">10</span>))<span class="op">+</span></a>
<a class="sourceLine" id="cb604-11" data-line-number="11"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="fl">2.5</span>), <span class="dt">hjust =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb604-12" data-line-number="12">        <span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="dv">1</span>)),</a>
<a class="sourceLine" id="cb604-13" data-line-number="13">        <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;black&quot;</span>),</a>
<a class="sourceLine" id="cb604-14" data-line-number="14">        <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">angle=</span> <span class="dv">315</span> , <span class="dt">size =</span> <span class="dv">10</span>),</a>
<a class="sourceLine" id="cb604-15" data-line-number="15">        <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">angle=</span> <span class="dv">0</span>, <span class="dt">size =</span> <span class="dv">10</span>),</a>
<a class="sourceLine" id="cb604-16" data-line-number="16">        <span class="dt">legend.position =</span> <span class="st">&quot;bottom&quot;</span>,</a>
<a class="sourceLine" id="cb604-17" data-line-number="17">        <span class="dt">legend.title =</span> <span class="kw">element_blank</span>()</a>
<a class="sourceLine" id="cb604-18" data-line-number="18">        )</a></code></pre></div>
<p><img src="08-NASA_EOS_files/figure-html/unnamed-chunk-38-1.png" width="1152" /></p>
<p>Finally, bring in the daytime LST data from <code>SJER</code> , and compare with daytime LST at <code>SOAP</code> , shown below in a scatterplot using <code>ggplot2</code> package.
Here, the <code>dplyr</code> is used to extract the LST_DAY_1km for Zion National Park.</p>
<div class="sourceCode" id="cb605"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb605-1" data-line-number="1">lst_Z &lt;-<span class="st"> </span>df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb605-2" data-line-number="2"><span class="st">  </span><span class="kw">filter</span>(MOD11A2_<span class="dv">006</span>_LST_Day_1km <span class="op">!=</span><span class="st"> </span>fillValue) <span class="op">%&gt;%</span><span class="st">        </span><span class="co"># Filter fill value </span></a>
<a class="sourceLine" id="cb605-3" data-line-number="3"><span class="st">  </span><span class="kw">filter</span>(Category <span class="op">==</span><span class="st"> &quot;SJER&quot;</span>)<span class="op">%&gt;%</span><span class="st">                           </span><span class="co"># Filter Zion national park</span></a>
<a class="sourceLine" id="cb605-4" data-line-number="4"><span class="st">  </span><span class="kw">select</span>(Date, MOD11A2_<span class="dv">006</span>_LST_Day_1km)                   <span class="co"># Select desired columns</span></a></code></pre></div>
<p>Make a scatterplot.</p>
<div class="sourceCode" id="cb606"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb606-1" data-line-number="1"><span class="kw">ggplot</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb606-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_point</span>(<span class="kw">aes</span>(<span class="dt">x=</span>lst_Z<span class="op">$</span>MOD11A2_<span class="dv">006</span>_LST_Day_1km, <span class="dt">y=</span>lst_GC<span class="op">$</span>MOD11A2_<span class="dv">006</span>_LST_Day_1km), <span class="dt">shape=</span><span class="dv">18</span> , <span class="dt">size =</span> <span class="dv">3</span>, <span class="dt">color=</span><span class="st">&quot;blue&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb606-3" data-line-number="3"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;MODIS LST: SOAP vs. SJER, 2020&quot;</span>,</a>
<a class="sourceLine" id="cb606-4" data-line-number="4">       <span class="dt">x =</span> <span class="kw">sprintf</span>(<span class="st">&quot;SOAP: LST_Day_1km (%s)&quot;</span>,unit),</a>
<a class="sourceLine" id="cb606-5" data-line-number="5">       <span class="dt">y =</span> <span class="kw">sprintf</span>( <span class="st">&quot;SJER: LST_Day_1km (%s)&quot;</span>,unit))<span class="op">+</span></a>
<a class="sourceLine" id="cb606-6" data-line-number="6"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="fl">1.5</span>), <span class="dt">hjust =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb606-7" data-line-number="7">        <span class="dt">axis.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="dv">1</span>)),</a>
<a class="sourceLine" id="cb606-8" data-line-number="8">        <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;lightgray&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;black&quot;</span>),</a>
<a class="sourceLine" id="cb606-9" data-line-number="9">        <span class="dt">axis.text.x =</span> <span class="kw">element_text</span>(<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">size =</span> <span class="dv">10</span>),</a>
<a class="sourceLine" id="cb606-10" data-line-number="10">        <span class="dt">axis.text.y =</span> <span class="kw">element_text</span>(<span class="dt">face =</span><span class="st">&quot;bold&quot;</span>,<span class="dt">color=</span><span class="st">&quot;black&quot;</span>, <span class="dt">size =</span> <span class="dv">10</span>)</a>
<a class="sourceLine" id="cb606-11" data-line-number="11">        )</a></code></pre></div>
<p>This example can provide a template to use for your own research workflows. Leveraging the AppEEARS API for searching, extracting, and formatting analysis ready data, and loading it directly into R means that you can keep your entire research workflow in a single software program, from start to finish.</p>
</div>
<div id="submit-an-area-request" class="section level2">
<h2><span class="header-section-number">7.23</span> Submit an Area Request</h2>
<p><em>The following section was adapted from <a href="https://lpdaac.usgs.gov/resources/e-learning/getting-started-appeears-api-r-area-request/">LPDAAC’s E-Learning Tutorials on the AppEEARS API</a> and modified to request data for NEON sites.</em></p>
<blockquote>
<p>Contributing Authors:</p>
</blockquote>
<blockquote>
<p>Contact Information<br />
Material written by Mahsa Jami<sup>1</sup> and Cole Krehbiel<sup>1</sup><br />
Contact: <a href="mailto:LPDAAC@usgs.gov" class="email">LPDAAC@usgs.gov</a><br />
Voice: +1-866-573-3222<br />
Organization: Land Processes Distributed Active Archive Center (LP DAAC)<br />
Website: <a href="https://lpdaac.usgs.gov/" class="uri">https://lpdaac.usgs.gov/</a><br />
Date last modified: 06-12-2020</p>
</blockquote>
<blockquote>
<p><sup>1</sup> KBR, Inc., contractor to the U.S. Geological Survey, Earth Resources Observation and Science (EROS) Center,<br />
Sioux Falls, South Dakota, USA. Work performed under USGS contract G15PD00467 for LP DAAC<sup>2</sup>.</p>
</blockquote>
<blockquote>
<p><sup>2</sup> LP DAAC Work performed under NASA contract NNG14HH33I.</p>
</blockquote>
<p><strong>This tutorial demonstrates how to use R to connect to the AppEEARS API</strong>
The Application for Extracting and Exploring Analysis Ready Samples (<a href="https://lpdaacsvc.cr.usgs.gov/appeears/">AppEEARS</a>) offers a simple and efficient way to access and transform <a href="https://lpdaacsvc.cr.usgs.gov/appeears/products">geospatial data</a> from a variety of federal data archives in an easy-to-use web application interface. AppEEARS enables users to subset geospatial data spatially, temporally, and by band/layer for point and area samples. AppEEARS returns not only the requested data, but also the associated quality values, and offers interactive visualizations with summary statistics in the web interface. The <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">AppEEARS API</a> offers users <strong>programmatic access</strong> to all features available in AppEEARS, with the exception of visualizations. The API features are demonstrated in this tutorial.</p>
</div>
<div id="submit-an-area-request-using-a-neon-site-boundary-as-the-region-of-interest-for-extracting-elevation-vegetation-and-land-surface-temperature-data" class="section level2">
<h2><span class="header-section-number">7.24</span> Submit an area request using a NEON site boundary as the region of interest for extracting elevation, vegetation and land surface temperature data</h2>
<p>In this section:
* Connecting to the AppEEARS API,
* Querying the list of available products,
* Submitting an area sample request, downloading the request,
* Working with the AppEEARS Quality API, and
* Loading the results into R for visualization.</p>
<p>AppEEARS area sample requests allow users to subset their desired data by spatial area via vector polygons (shapefiles or GeoJSONs). Users can also reproject and reformat the output data. AppEEARS returns the valid data from the parameters defined within the sample request.</p>
<div id="data-used-in-this-example" class="section level4">
<h4><span class="header-section-number">7.24.0.1</span> Data Used in this Example:</h4>
<ul>
<li>Data layers:
<ul>
<li>NASA MEaSUREs Shuttle Radar Topography Mission (SRTM) Version 3 Digital Elevation Model
<ul>
<li><a href="https://doi.org/10.5067/MEaSUREs/SRTM/SRTMGL1.003">SRTMGL1_NC.003</a>, 30m, static: ‘SRTM_DEM’</li>
</ul></li>
<li>Combined MODIS Leaf Area Index (LAI)
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MCD15A3H.006">MCD15A3H.006</a>, 500m, 4 day: ‘Lai_500m’<br />
</li>
</ul></li>
<li>Terra MODIS Land Surface Temperature
<ul>
<li><a href="https://doi.org/10.5067/MODIS/MOD11A2.006">MOD11A2.006</a>, 1000m, 8 day: ‘LST_Day_1km’, ‘LST_Night_1km’</li>
</ul></li>
</ul></li>
</ul>
<hr />
</div>
<div id="topics-covered-in-this-tutorial" class="section level3">
<h3><span class="header-section-number">7.24.1</span> Topics Covered in this Tutorial</h3>
<p><strong>Getting Started</strong><br />
* Load Packages<br />
* Login</p>
<p><strong>Query Available Products</strong><br />
* Search and Explore Available Products<br />
* Search and Explore Available Layers</p>
<p><strong>Submit an Area Request</strong><br />
* Load a Shapefile<br />
* Search and Explore Available Projections<br />
* Compile a JSON Object<br />
* Submit a Task Request<br />
* Retrieve Task Status<br />
<strong>Download a Request</strong><br />
* Explore Files in Request Output<br />
* Download Files in a Request (Automation)<br />
<strong>Explore AppEEARS Quality Service</strong><br />
* List Quality Layers<br />
* Show Quality Values<br />
* Decode Quality Values<br />
<strong>BONUS: Load Request Output and Visualize</strong><br />
* Load a GeoTIFF<br />
* Plot a GeoTIFF</p>
<hr />
</div>
<div id="prerequisites-1" class="section level3">
<h3><span class="header-section-number">7.24.2</span> Prerequisites:</h3>
<ul>
<li><p>A <a href="https://urs.earthdata.nasa.gov/">NASA Earthdata Login</a> account is required to login to the AppEEARS API and submit a request . You can create an account at the link provided.</p></li>
<li><p>Install R and RStudio.
These tutorials have been tested on Windows and Mac systems using R Version 4.0.0, RStudio version 1.1.463, and the specifications listed below.</p>
<ul>
<li>Required packages:
<ul>
<li><code>getPass</code><br />
</li>
<li><code>httr</code><br />
</li>
<li><code>jsonlite</code><br />
</li>
<li><code>geojsonio</code><br />
</li>
<li><code>geojsonR</code><br />
</li>
<li><code>rgdal</code></li>
<li><code>sp</code></li>
<li><code>warnings</code></li>
</ul></li>
<li>To read and visualize the GeoTIFF:
<ul>
<li><code>raster</code><br />
</li>
<li><code>rasterVis</code><br />
</li>
<li><code>RColorBrewer</code><br />
</li>
<li><code>ggplot2</code></li>
</ul></li>
</ul></li>
</ul>
<hr />
</div>
<div id="procedures" class="section level3">
<h3><span class="header-section-number">7.24.3</span> Procedures:</h3>
<div id="getting-started-1" class="section level4">
<h4><span class="header-section-number">7.24.3.1</span> Getting Started:</h4>
<ol style="list-style-type: decimal">
<li><p>Clone/download <a href="https://git.earthdata.nasa.gov/rest/api/latest/projects/LPDUR/repos/appeears-api-getting-started_r/archive?format=zip">AppEEARS API Getting Started in R Repository</a> from the LP DAAC Data User Resources Repository or use the code in this textbook.</p></li>
<li><p>Open the <code>AppEEARS_API_R.Rproj</code> file to directly open the project. Next, select the <code>AppEEARS_API_AREA_R.Rmd</code> from the files list and open it.</p></li>
</ol>
<hr />
</div>
</div>
<div id="appeears-information-1" class="section level3">
<h3><span class="header-section-number">7.24.4</span> AppEEARS Information:</h3>
<p>To access AppEEARS, visit: <a href="https://lpdaacsvc.cr.usgs.gov/appeears/" class="uri">https://lpdaacsvc.cr.usgs.gov/appeears/</a>.</p>
<p>For comprehensive documentation of the full functionality of the AppEEARS API, please see the AppEEARS <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/">API Documentation</a>.</p>
<hr />
</div>
</div>
<div id="getting-started-with-an-area-request" class="section level2">
<h2><span class="header-section-number">7.25</span> Getting Started with an Area Request</h2>
<div id="load-packages-for-an-area-request" class="section level3">
<h3><span class="header-section-number">7.25.1</span> Load Packages for an Area Request</h3>
<p>First, load the R packages necessary to run the tutorial.</p>
<div class="sourceCode" id="cb607"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb607-1" data-line-number="1"><span class="co"># Load necessary packages into R                                               </span></a>
<a class="sourceLine" id="cb607-2" data-line-number="2"><span class="kw">library</span>(httr)              <span class="co"># To send a request to the server/receive a response from the server</span></a>
<a class="sourceLine" id="cb607-3" data-line-number="3"><span class="kw">library</span>(jsonlite)          <span class="co"># Implements a bidirectional mapping between JSON data and the most important R data types</span></a>
<a class="sourceLine" id="cb607-4" data-line-number="4"><span class="kw">library</span>(geojsonio)         <span class="co"># Convert data from various R classes to &#39;GeoJSON&#39; </span></a>
<a class="sourceLine" id="cb607-5" data-line-number="5"><span class="kw">library</span>(geojsonR)          <span class="co"># Functions for processing GeoJSON objects</span></a>
<a class="sourceLine" id="cb607-6" data-line-number="6"><span class="kw">library</span>(rgdal)             <span class="co"># Functions for spatial data input/output</span></a>
<a class="sourceLine" id="cb607-7" data-line-number="7"><span class="kw">library</span>(sp)                <span class="co"># classes and methods for spatial data types</span></a>
<a class="sourceLine" id="cb607-8" data-line-number="8"><span class="kw">library</span>(raster)            <span class="co"># Classes and methods for raster data</span></a>
<a class="sourceLine" id="cb607-9" data-line-number="9"><span class="kw">library</span>(rasterVis)         <span class="co"># Advanced plotting functions for raster objects </span></a>
<a class="sourceLine" id="cb607-10" data-line-number="10"><span class="kw">library</span>(ggplot2)           <span class="co"># Functions for graphing and mapping</span></a>
<a class="sourceLine" id="cb607-11" data-line-number="11"><span class="kw">library</span>(RColorBrewer)      <span class="co"># Creates nice color schemes</span></a></code></pre></div>
<hr />
</div>
</div>
<div id="set-up-the-output-directory-1" class="section level2">
<h2><span class="header-section-number">7.26</span> Set Up the Output Directory</h2>
<p>Create an output directory for the results.</p>
<div class="sourceCode" id="cb608"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb608-1" data-line-number="1">outDir &lt;-<span class="st"> &#39;./data/&#39;</span>               <span class="co"># Create an output directory if it doesn&#39;t exist</span></a></code></pre></div>
<p>Next, assign the AppEEARS API URL to a static variable.</p>
<div class="sourceCode" id="cb609"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb609-1" data-line-number="1">API_URL =<span class="st"> &#39;https://lpdaacsvc.cr.usgs.gov/appeears/api/&#39;</span>  <span class="co"># Set the AppEEARS API to a variable</span></a></code></pre></div>
<hr />
</div>
<div id="load-your-earth-data-token" class="section level2">
<h2><span class="header-section-number">7.27</span> Load your Earth Data Token</h2>
<p>To submit a request, you must first login to the AppEEARS API. Use your <code>token</code> script to import your credentials.</p>
<div class="sourceCode" id="cb610"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb610-1" data-line-number="1"><span class="kw">source</span>(<span class="st">&#39;./Tokens/EARTHDATA_Token.R&#39;</span>) <span class="co">#path will change based on where you stored it</span></a></code></pre></div>
<p>Decode the username and password to be used to post login request.</p>
<div class="sourceCode" id="cb611"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb611-1" data-line-number="1">secret &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">base64_enc</span>(<span class="kw">paste</span>(user, password, <span class="dt">sep =</span> <span class="st">&quot;:&quot;</span>))  <span class="co"># Encode the string of username and password</span></a></code></pre></div>
<p>Next, assign the AppEEARS API URL to a static variable.</p>
<div class="sourceCode" id="cb612"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb612-1" data-line-number="1">API_URL =<span class="st"> &#39;https://lpdaacsvc.cr.usgs.gov/appeears/api/&#39;</span>     <span class="co"># Set the AppEEARS API to a variable</span></a></code></pre></div>
<p>Use the <code>httr</code> package to post your username and password. A successful login will provide you with a token to be used later in this tutorial to submit a request. For more information or if you are experiencing difficulties, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#login">API Documentation</a>.</p>
<div class="sourceCode" id="cb613"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb613-1" data-line-number="1"><span class="co"># Insert API URL, call login service, set the component of HTTP header, and post the request to the server</span></a>
<a class="sourceLine" id="cb613-2" data-line-number="2">response &lt;-<span class="st"> </span>httr<span class="op">::</span><span class="kw">POST</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;login&quot;</span>), <span class="kw">add_headers</span>(<span class="st">&quot;Authorization&quot;</span> =<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Basic&quot;</span>, <span class="kw">gsub</span>(<span class="st">&quot;</span><span class="ch">\n</span><span class="st">&quot;</span>, <span class="st">&quot;&quot;</span>, secret)),</a>
<a class="sourceLine" id="cb613-3" data-line-number="3">                                                 <span class="st">&quot;Content-Type&quot;</span> =</a>
<a class="sourceLine" id="cb613-4" data-line-number="4"><span class="st">                                                   &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;</span>), </a>
<a class="sourceLine" id="cb613-5" data-line-number="5">                 <span class="dt">body =</span> <span class="st">&quot;grant_type=client_credentials&quot;</span>)</a>
<a class="sourceLine" id="cb613-6" data-line-number="6"></a>
<a class="sourceLine" id="cb613-7" data-line-number="7">response_content &lt;-<span class="st"> </span><span class="kw">content</span>(response)                          <span class="co"># Retrieve the content of the request</span></a>
<a class="sourceLine" id="cb613-8" data-line-number="8">token_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)  <span class="co"># Convert the response to the JSON object</span></a>
<a class="sourceLine" id="cb613-9" data-line-number="9"><span class="kw">remove</span>(user, password, secret, response)                       <span class="co"># Remove the variables that are not needed anymore </span></a>
<a class="sourceLine" id="cb613-10" data-line-number="10"><span class="kw">prettify</span>(token_response)                                       <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;token_type&quot;: &quot;Bearer&quot;,
##     &quot;token&quot;: &quot;-HS6DOrKUrzf3AQHycrrodUzWXThuBWzPphlSNsoJIl1F5kJuS1ueS5TPaFvlMuGD9Gf4wpzTKbqfqaJIZoKbw&quot;,
##     &quot;expiration&quot;: &quot;2020-10-21T16:44:19Z&quot;
## }
## </code></pre>
<p><strong>Above, you should see a Bearer token. Notice that this token will expire approximately 48 hours after being acquired.</strong></p>
<hr />
</div>
<div id="query-available-products-1" class="section level2">
<h2><span class="header-section-number">7.28</span> Query Available Products</h2>
<p>The product API provides details about all of the products and layers available in AppEEARS. For more information, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#product">API Documentation</a>.</p>
<p>Below, call the product API to list all of the products available in AppEEARS.</p>
<div class="sourceCode" id="cb615"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb615-1" data-line-number="1">prods_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;product&quot;</span>))             <span class="co"># Request the info of all products from product service</span></a>
<a class="sourceLine" id="cb615-2" data-line-number="2">prods_content &lt;-<span class="st"> </span><span class="kw">content</span>(prods_req)                      <span class="co"># Retrieve the content of request </span></a>
<a class="sourceLine" id="cb615-3" data-line-number="3">all_Prods &lt;-<span class="st"> </span><span class="kw">toJSON</span>(prods_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)    <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb615-4" data-line-number="4"><span class="kw">remove</span>(prods_req, prods_content)                         <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb615-5" data-line-number="5"><span class="co"># prettify(all_Prods)                                      # Print the prettified product response</span></a></code></pre></div>
<hr />
</div>
<div id="search-and-explore-available-products-1" class="section level2">
<h2><span class="header-section-number">7.29</span> Search and Explore Available Products</h2>
<p>Create a list indexed by product name to make it easier to query a specific product.</p>
<div class="sourceCode" id="cb616"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb616-1" data-line-number="1"><span class="co"># divides information from each product.</span></a>
<a class="sourceLine" id="cb616-2" data-line-number="2">divided_products &lt;-<span class="st"> </span><span class="kw">split</span>(<span class="kw">fromJSON</span>(all_Prods), <span class="kw">seq</span>(<span class="kw">nrow</span>(<span class="kw">fromJSON</span>(all_Prods))))</a>
<a class="sourceLine" id="cb616-3" data-line-number="3"><span class="co"># Create a list indexed by the product name and version</span></a>
<a class="sourceLine" id="cb616-4" data-line-number="4">products &lt;-<span class="st"> </span><span class="kw">setNames</span>(divided_products,<span class="kw">fromJSON</span>(all_Prods)<span class="op">$</span>ProductAndVersion)</a>
<a class="sourceLine" id="cb616-5" data-line-number="5"><span class="co"># Print no. products available in AppEEARS</span></a>
<a class="sourceLine" id="cb616-6" data-line-number="6"><span class="kw">sprintf</span>(<span class="st">&quot;AppEEARS currently supports %i products.&quot;</span> ,<span class="kw">length</span>(products))   </a></code></pre></div>
<pre><code>## [1] &quot;AppEEARS currently supports 120 products.&quot;</code></pre>
<p>Next, look at the product’s names and descriptions. Below, the ‘ProductAndVersion’ and ‘Description’ are printed for all products.</p>
<div class="sourceCode" id="cb618"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb618-1" data-line-number="1"><span class="co"># Loop through the products in the list and Print the product name and description</span></a>
<a class="sourceLine" id="cb618-2" data-line-number="2"><span class="cf">for</span> (p <span class="cf">in</span> products){                                   </a>
<a class="sourceLine" id="cb618-3" data-line-number="3">  <span class="kw">print</span>(<span class="kw">paste0</span>(p<span class="op">$</span>ProductAndVersion,<span class="st">&quot; is &quot;</span>,p<span class="op">$</span>Description,<span class="st">&quot; from &quot;</span>,p<span class="op">$</span>Source))  </a>
<a class="sourceLine" id="cb618-4" data-line-number="4">}</a></code></pre></div>
<pre><code>## [1] &quot;GPW_DataQualityInd.004 is Quality of Input Data for Population Count and Density Grids from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopCount.004 is UN-adjusted Population Count from SEDAC&quot;
## [1] &quot;GPW_UN_Adj_PopDensity.004 is UN-adjusted Population Density from SEDAC&quot;
## [1] &quot;MCD12Q1.006 is Land Cover Type from LP DAAC&quot;
## [1] &quot;MCD12Q2.006 is Land Cover Dynamics from LP DAAC&quot;
## [1] &quot;MCD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD15A3H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MCD43A1.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A3.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD43A4.006 is Bidirectional Reflectance Distribution Function (BRDF) and Albedo from LP DAAC&quot;
## [1] &quot;MCD64A1.006 is Burned Area (fire) from LP DAAC&quot;
## [1] &quot;MOD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MOD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MOD10A1.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MOD10A2.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MOD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MOD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MOD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MOD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MOD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MOD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A2HGF.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MOD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MOD44B.006 is Vegetation Continuous Fields (VCF) from LP DAAC&quot;
## [1] &quot;MOD44W.006 is Land/Water Mask from LP DAAC&quot;
## [1] &quot;MODOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MODTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;MYD09A1.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GA.006 is Surface Reflectance Bands 1-7 from LP DAAC&quot;
## [1] &quot;MYD09GQ.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD09Q1.006 is Surface Reflectance Bands 1-2 from LP DAAC&quot;
## [1] &quot;MYD10A1.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD10A1.006 is Snow Cover (NDSI) from NSIDC DAAC&quot;
## [1] &quot;MYD10A2.005 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD10A2.006 is Snow Cover from NSIDC DAAC&quot;
## [1] &quot;MYD11A1.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD11A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD13A1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A2.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13A3.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD13Q1.006 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;MYD14A2.006 is Thermal Anomalies and Fire from LP DAAC&quot;
## [1] &quot;MYD15A2H.006 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;MYD16A2.006 is Evapotranspiration (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A2GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD16A3GF.006 is Net Evapotranspiration Gap-Filled (ET &amp; LE) from LP DAAC&quot;
## [1] &quot;MYD17A2H.006 is Gross Primary Productivity (GPP) from LP DAAC&quot;
## [1] &quot;MYD17A2HGF.006 is Gross Primary Productivity (GPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD17A3HGF.006 is Net Primary Production (NPP) Gap-Filled from LP DAAC&quot;
## [1] &quot;MYD21A1D.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A1N.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYD21A2.006 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;MYDOCGA.006 is Ocean Reflectance Bands 8-16 from LP DAAC&quot;
## [1] &quot;MYDTBGA.006 is Thermal Bands and Albedo from LP DAAC&quot;
## [1] &quot;NASADEM_NC.001 is Elevation from LP DAAC&quot;
## [1] &quot;NASADEM_NUMNC.001 is Source from LP DAAC&quot;
## [1] &quot;SPL3SMP_E.003 is Enhanced L3 Radiometer Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3SMP.006 is Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL4CMDL.004 is Carbon Net Ecosystem Exchange from NSIDC DAAC&quot;
## [1] &quot;SPL4SMGP.004 is Surface and Root Zone Soil Moisture from NSIDC DAAC&quot;
## [1] &quot;SPL3FTP.002 is Freeze/Thaw State from NSIDC DAAC&quot;
## [1] &quot;SRTMGL1_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL1_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NC.003 is Elevation (DEM) from LP DAAC&quot;
## [1] &quot;SRTMGL3_NUMNC.003 is Source (DEM) from LP DAAC&quot;
## [1] &quot;ASTGTM_NC.003 is Elevation from LP DAAC&quot;
## [1] &quot;ASTGTM_NUMNC.003 is Source from LP DAAC&quot;
## [1] &quot;ASTWBD_ATTNC.001 is Water Bodies Database Attributes from LP DAAC&quot;
## [1] &quot;ASTWBD_NC.001 is Water Bodies Database Elevation from LP DAAC&quot;
## [1] &quot;VNP09H1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP09A1.001 is Surface Reflectance from LP DAAC&quot;
## [1] &quot;VNP13A1.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A2.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP13A3.001 is Vegetation Indices (NDVI &amp; EVI) from LP DAAC&quot;
## [1] &quot;VNP14A1.001 is Thermal Anomalies/Fire from LP DAAC&quot;
## [1] &quot;VNP15A2H.001 is Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR) from LP DAAC&quot;
## [1] &quot;VNP21A1D.001 is Land Surface Temperature &amp; Emissivity Day (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A1N.001 is Land Surface Temperature &amp; Emissivity Night (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP21A2.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;VNP43IA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43IA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43IA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43IA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;VNP43MA1.001 is BRDF-Albedo Model Parameters from LP DAAC&quot;
## [1] &quot;VNP43MA2.001 is BRDF-Albedo Quality from LP DAAC&quot;
## [1] &quot;VNP43MA3.001 is Albedo (BRDF) from LP DAAC&quot;
## [1] &quot;VNP43MA4.001 is Nadir BRDF-Adjusted Reflectance from LP DAAC&quot;
## [1] &quot;CU_LC08.001 is CONUS Landsat 8 Surface Reflectance from USGS&quot;
## [1] &quot;CU_LE07.001 is CONUS Landsat 7 Surface Reflectance from USGS&quot;
## [1] &quot;CU_LT05.001 is CONUS Landsat 5 Surface Reflectance from USGS&quot;
## [1] &quot;CU_LT04.001 is CONUS Landsat 4 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LC08.001 is Alaska Landsat 8 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LE07.001 is Alaska Landsat 7 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LT05.001 is Alaska Landsat 5 Surface Reflectance from USGS&quot;
## [1] &quot;AK_LT04.001 is Alaska Landsat 4 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LC08.001 is Hawaii Landsat 8 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LE07.001 is Hawaii Landsat 7 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LT05.001 is Hawaii Landsat 5 Surface Reflectance from USGS&quot;
## [1] &quot;HI_LT04.001 is Hawaii Landsat 4 Surface Reflectance from USGS&quot;
## [1] &quot;DAYMET.003 is Daily Surface Weather Data for North America from ORNL&quot;
## [1] &quot;SSEBop_ET.004 is SSEBop Actual Evapotranspiration (ETa) from USGS&quot;
## [1] &quot;eMODIS_Smoothed_NDVI.001 is eMODIS Smoothed Normalized Difference Vegetation Index (NDVI) from USGS&quot;
## [1] &quot;ECO2LSTE.001 is Land Surface Temperature &amp; Emissivity (LST&amp;E) from LP DAAC&quot;
## [1] &quot;ECO2CLD.001 is Cloud Mask from LP DAAC&quot;
## [1] &quot;ECO3ETPTJPL.001 is Evapotranspiration PT-JPL from LP DAAC&quot;
## [1] &quot;ECO3ANCQA.001 is L3/L4 Ancillary Data Quality Assurance (QA) Flags from LP DAAC&quot;
## [1] &quot;ECO4ESIPTJPL.001 is Evaporative Stress Index PT-JPL from LP DAAC&quot;
## [1] &quot;ECO4WUE.001 is Water Use Efficiency from LP DAAC&quot;
## [1] &quot;ECO1BGEO.001 is Geolocation from LP DAAC&quot;
## [1] &quot;ECO1BMAPRAD.001 is Resampled Radiance from LP DAAC&quot;</code></pre>
<p>The product service provides many useful details, including if a product is currently available in AppEEARS, a description, and information on the spatial and temporal resolution. Below, the product details are retrieved using ‘ProductAndVersion’.</p>
<div class="sourceCode" id="cb620"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb620-1" data-line-number="1"><span class="co"># Convert the MCD15A3H.006 info to JSON object and print the prettified info</span></a>
<a class="sourceLine" id="cb620-2" data-line-number="2"><span class="kw">prettify</span>(<span class="kw">toJSON</span>(products<span class="op">$</span><span class="st">&quot;MCD15A3H.006&quot;</span>)) </a></code></pre></div>
<pre><code>## [
##     {
##         &quot;Product&quot;: &quot;MCD15A3H&quot;,
##         &quot;Platform&quot;: &quot;Combined MODIS&quot;,
##         &quot;Description&quot;: &quot;Leaf Area Index (LAI) and Fraction of Photosynthetically Active Radiation (FPAR)&quot;,
##         &quot;RasterType&quot;: &quot;Tile&quot;,
##         &quot;Resolution&quot;: &quot;500m&quot;,
##         &quot;TemporalGranularity&quot;: &quot;4 day&quot;,
##         &quot;Version&quot;: &quot;006&quot;,
##         &quot;Available&quot;: true,
##         &quot;DocLink&quot;: &quot;https://doi.org/10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;Source&quot;: &quot;LP DAAC&quot;,
##         &quot;TemporalExtentStart&quot;: &quot;2002-07-04&quot;,
##         &quot;TemporalExtentEnd&quot;: &quot;Present&quot;,
##         &quot;Deleted&quot;: false,
##         &quot;DOI&quot;: &quot;10.5067/MODIS/MCD15A3H.006&quot;,
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;
##     }
## ]
## </code></pre>
<p>Below, search for products containing Leaf Area Index in their description.</p>
<div class="sourceCode" id="cb622"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb622-1" data-line-number="1">LAI_Products &lt;-<span class="st"> </span><span class="kw">list</span>()                                        <span class="co"># Create an empty list </span></a>
<a class="sourceLine" id="cb622-2" data-line-number="2"><span class="cf">for</span> (p <span class="cf">in</span> products){                                          <span class="co"># Loop through the product list</span></a>
<a class="sourceLine" id="cb622-3" data-line-number="3">  <span class="cf">if</span> (<span class="kw">grepl</span>(<span class="st">&#39;Leaf Area Index&#39;</span>, p<span class="op">$</span>Description )){              <span class="co"># Look through the product description for a keyword </span></a>
<a class="sourceLine" id="cb622-4" data-line-number="4">    LAI_Products &lt;-<span class="st"> </span><span class="kw">append</span>(LAI_Products, p<span class="op">$</span>ProductAndVersion) <span class="co"># Append the LAI products to the list</span></a>
<a class="sourceLine" id="cb622-5" data-line-number="5">  }</a>
<a class="sourceLine" id="cb622-6" data-line-number="6">}</a>
<a class="sourceLine" id="cb622-7" data-line-number="7">LAI_Products</a></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;MCD15A2H.006&quot;
## 
## [[2]]
## [1] &quot;MCD15A3H.006&quot;
## 
## [[3]]
## [1] &quot;MOD15A2H.006&quot;
## 
## [[4]]
## [1] &quot;MYD15A2H.006&quot;
## 
## [[5]]
## [1] &quot;VNP15A2H.001&quot;</code></pre>
<p>Using the info above, Create a list of desired products.</p>
<div class="sourceCode" id="cb624"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb624-1" data-line-number="1">desired_products &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;MCD15A3H.006&#39;</span>,<span class="st">&#39;MOD11A2.006&#39;</span>,<span class="st">&#39;SRTMGL1_NC.003&#39;</span>)   <span class="co"># Create a list of desired products </span></a>
<a class="sourceLine" id="cb624-2" data-line-number="2">desired_products</a></code></pre></div>
<pre><code>## [1] &quot;MCD15A3H.006&quot;   &quot;MOD11A2.006&quot;    &quot;SRTMGL1_NC.003&quot;</code></pre>
<hr />
</div>
<div id="search-and-explore-available-layers-1" class="section level2">
<h2><span class="header-section-number">7.30</span> Search and Explore Available Layers</h2>
<p>This API call will list all of the layers available for a given product. Each product is referenced by its <code>ProductAndVersion</code> property which is also referred to as the product_id. First, request the layers for the <code>MCD15A3H.006</code> product.</p>
<div class="sourceCode" id="cb626"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb626-1" data-line-number="1"><span class="co"># Request layers for the 1st product in the list: MCD15A3H.006</span></a>
<a class="sourceLine" id="cb626-2" data-line-number="2">MCD15A3H_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">1</span>]))  <span class="co"># Request the info of a product from product URL</span></a>
<a class="sourceLine" id="cb626-3" data-line-number="3">MCD15A3H_content &lt;-<span class="st"> </span><span class="kw">content</span>(MCD15A3H_req)                             <span class="co"># Retrieve content of the request </span></a>
<a class="sourceLine" id="cb626-4" data-line-number="4">MCD15A3H_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(MCD15A3H_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb626-5" data-line-number="5"><span class="kw">remove</span>(MCD15A3H_req, MCD15A3H_content)                                <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb626-6" data-line-number="6"><span class="co">#prettify(MCD15A3H_response)                                          # Print the prettified response</span></a>
<a class="sourceLine" id="cb626-7" data-line-number="7"><span class="kw">names</span>(<span class="kw">fromJSON</span>(MCD15A3H_response))                                    <span class="co"># print the layer&#39;s names    </span></a></code></pre></div>
<pre><code>## [1] &quot;FparExtra_QC&quot;    &quot;FparLai_QC&quot;      &quot;FparStdDev_500m&quot; &quot;Fpar_500m&quot;      
## [5] &quot;LaiStdDev_500m&quot;  &quot;Lai_500m&quot;</code></pre>
<p>Next, request the layers for the <code>MOD11A2.006</code> product.</p>
<div class="sourceCode" id="cb628"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb628-1" data-line-number="1">MOD11_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">2</span>]))  <span class="co"># Request the info of a product from product URL</span></a>
<a class="sourceLine" id="cb628-2" data-line-number="2">MOD11_content &lt;-<span class="st"> </span><span class="kw">content</span>(MOD11_req)                                <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb628-3" data-line-number="3">MOD11_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(MOD11_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)         <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb628-4" data-line-number="4"><span class="kw">remove</span>(MOD11_req, MOD11_content)                                   <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb628-5" data-line-number="5"><span class="kw">names</span>(<span class="kw">fromJSON</span>(MOD11_response))                                    <span class="co"># print the layer names</span></a></code></pre></div>
<pre><code>##  [1] &quot;Clear_sky_days&quot;   &quot;Clear_sky_nights&quot; &quot;Day_view_angl&quot;    &quot;Day_view_time&quot;   
##  [5] &quot;Emis_31&quot;          &quot;Emis_32&quot;          &quot;LST_Day_1km&quot;      &quot;LST_Night_1km&quot;   
##  [9] &quot;Night_view_angl&quot;  &quot;Night_view_time&quot;  &quot;QC_Day&quot;           &quot;QC_Night&quot;</code></pre>
<p>Next, request the layers for the<code>SRTMGL1_NC.003</code> product.</p>
<div class="sourceCode" id="cb630"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb630-1" data-line-number="1">SRTMGL1_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;product/&quot;</span>, desired_products[<span class="dv">3</span>]))<span class="co"># Request the info of a product from product URL</span></a>
<a class="sourceLine" id="cb630-2" data-line-number="2">SRTMGL1_content &lt;-<span class="st"> </span><span class="kw">content</span>(SRTMGL1_req)                            <span class="co"># Retrieve content of the request  </span></a>
<a class="sourceLine" id="cb630-3" data-line-number="3">SRTMGL1_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(SRTMGL1_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)     <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb630-4" data-line-number="4"><span class="kw">remove</span>(SRTMGL1_req, SRTMGL1_content)                               <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb630-5" data-line-number="5"><span class="kw">names</span>(<span class="kw">fromJSON</span>(SRTMGL1_response))</a></code></pre></div>
<pre><code>## [1] &quot;SRTMGL1_DEM&quot;</code></pre>
<p>Lastly, select the desired layers and pertinent products and make a data frame using this information. This list will be inserted into the JSON file used to submit a request in <a href="#section3">Section 3</a>.</p>
<div class="sourceCode" id="cb632"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb632-1" data-line-number="1"><span class="co"># Create a vector of desired layers</span></a>
<a class="sourceLine" id="cb632-2" data-line-number="2">desired_layers &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;LST_Day_1km&quot;</span>,<span class="st">&quot;LST_Night_1km&quot;</span>,<span class="st">&quot;Lai_500m&quot;</span>,<span class="st">&quot;SRTMGL1_DEM&quot;</span>)     </a>
<a class="sourceLine" id="cb632-3" data-line-number="3"><span class="co"># Create a vector of products including the desired layers</span></a>
<a class="sourceLine" id="cb632-4" data-line-number="4">desired_prods &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MOD11A2.006&quot;</span>,<span class="st">&quot;MCD15A3H.006&quot;</span>,<span class="st">&quot;SRTMGL1_NC.003&quot;</span>) </a>
<a class="sourceLine" id="cb632-5" data-line-number="5"><span class="co"># Create a data frame including the desired data products and layers</span></a>
<a class="sourceLine" id="cb632-6" data-line-number="6">layers &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">product =</span> desired_prods, <span class="dt">layer =</span> desired_layers)              </a></code></pre></div>
<hr />
</div>
<div id="submit-an-area-request-1" class="section level2">
<h2><span class="header-section-number">7.31</span> Submit an Area Request</h2>
<p>The Submit task API call provides a way to submit a new request to be processed. It can accept data via JSON or query string. In the example below, create a JSON object and submit a request. Tasks in AppEEARS correspond to each request associated with your user account. Therefore, each of the calls to this service requires an authentication token.</p>
<hr />
<div id="load-a-shapefile" class="section level3">
<h3><span class="header-section-number">7.31.1</span> Load a Shapefile</h3>
<p>In this section, begin by loading a shapefile using the <code>rgdal</code> package. The shapefile is publicly available for download from the <a href="https://irma.nps.gov/DataStore/Reference/Profile/2224545?lnv=True">NPS website</a>.</p>
<div class="sourceCode" id="cb633"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb633-1" data-line-number="1">onaq &lt;-<span class="st"> </span><span class="kw">readOGR</span>(<span class="dt">dsn=</span> <span class="st">&quot;./ONAQ_extent&quot;</span>, <span class="dt">layer =</span> <span class="st">&quot;D15_ONAQ_C1_P1_v2&quot;</span>)</a></code></pre></div>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;/Users/kdw223/Research/katharynduffy.github.io/ONAQ_extent&quot;, layer: &quot;D15_ONAQ_C1_P1_v2&quot;
## with 1 features
## It has 1 fields</code></pre>
<div class="sourceCode" id="cb635"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb635-1" data-line-number="1">onaq_wgs84 &lt;-<span class="st"> </span><span class="kw">spTransform</span>(onaq, <span class="kw">CRS</span>(<span class="st">&quot;+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0&quot;</span>))</a></code></pre></div>
<p>convert the Spatial data frame to GeoJSON using <code>geojson_json</code> from <code>geojsonio</code> package, which makes it easy to create the geospatial data in and out of GeoJSON format.</p>
<div class="sourceCode" id="cb636"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb636-1" data-line-number="1">onaq_json &lt;-<span class="st"> </span>geojsonio<span class="op">::</span><span class="kw">geojson_json</span>(onaq_wgs84, <span class="dt">geometry =</span> <span class="st">&quot;polygon&quot;</span>)    <span class="co"># Convert the data frame to GeoJSON</span></a></code></pre></div>
<pre><code>## Warning: &#39;geojsonlint&#39; not installed, skipping GeoJSON linting</code></pre>
<p>Next, the GeoJSON object can be read as a list using the <code>FROM_GeoJson</code> function from <code>geojsonR</code> package.</p>
<div class="sourceCode" id="cb638"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb638-1" data-line-number="1">onaq_js &lt;-<span class="st"> </span>geojsonR<span class="op">::</span><span class="kw">FROM_GeoJson</span>(onaq_json)                    <span class="co"># Read the GeoJSON </span></a></code></pre></div>
<hr />
</div>
</div>
<div id="search-and-explore-available-projections" class="section level2">
<h2><span class="header-section-number">7.32</span> Search and Explore Available Projections</h2>
<p>The spatial API provides some helper services used to support submitting area task requests. The call below will retrieve the list of supported projections in AppEEARS. For more information, please see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#spatial">AppEEARS API</a></p>
<div class="sourceCode" id="cb639"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb639-1" data-line-number="1">proj_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;spatial/proj&quot;</span>))          <span class="co"># Request the projection info from API_URL            </span></a>
<a class="sourceLine" id="cb639-2" data-line-number="2">proj_content &lt;-<span class="st"> </span><span class="kw">content</span>(proj_req)                         <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb639-3" data-line-number="3">proj_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(proj_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)  <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb639-4" data-line-number="4"><span class="kw">remove</span>(proj_req, proj_content)                            <span class="co"># Remove the variables that are not needed </span></a>
<a class="sourceLine" id="cb639-5" data-line-number="5">projs &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(proj_response)                          <span class="co"># Read the projects as a R object</span></a>
<a class="sourceLine" id="cb639-6" data-line-number="6">projection &lt;-<span class="st"> </span>projs[projs<span class="op">$</span>Name<span class="op">==</span><span class="st">&quot;geographic&quot;</span>,]            <span class="co"># Choose the projection for your output</span></a></code></pre></div>
<hr />
</div>
<div id="compile-a-json-object-1" class="section level2">
<h2><span class="header-section-number">7.33</span> Compile a JSON Object</h2>
<p>In this section, begin by setting up the information needed for a nested data frame that will be later converted to a JSON object for submitting an AppEEARS area request.For detailed information on required JSON parameters, see the <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#tasks">API Documentation</a>.</p>
<div class="sourceCode" id="cb640"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb640-1" data-line-number="1">taskName &lt;-<span class="st"> &#39;NEON-ONAQ&#39;</span>    <span class="co"># Enter name of the task, &#39;Grand Canyon&#39; used here</span></a>
<a class="sourceLine" id="cb640-2" data-line-number="2">taskType &lt;-<span class="st"> &#39;area&#39;</span>            <span class="co"># Type of task, it can be either &quot;area&quot; or &quot;point&quot;</span></a>
<a class="sourceLine" id="cb640-3" data-line-number="3"></a>
<a class="sourceLine" id="cb640-4" data-line-number="4">projection &lt;-<span class="st"> </span>projection<span class="op">$</span>Name <span class="co"># Set output projection </span></a>
<a class="sourceLine" id="cb640-5" data-line-number="5"></a>
<a class="sourceLine" id="cb640-6" data-line-number="6">outFormat &lt;-<span class="st"> &#39;geotiff&#39;</span>        <span class="co"># Set output file format type. it can be either &#39;geotiff&#39; or &#39;netcdf4&#39;</span></a>
<a class="sourceLine" id="cb640-7" data-line-number="7"></a>
<a class="sourceLine" id="cb640-8" data-line-number="8">startDate &lt;-<span class="st"> &#39;01-01-2018&#39;</span>     <span class="co"># Start of the date range for which to extract data: MM-DD-YYYY</span></a>
<a class="sourceLine" id="cb640-9" data-line-number="9">endDate &lt;-<span class="st"> &#39;12-31-2019&#39;</span>       <span class="co"># End of the date range for which to extract data: MM-DD-YYYY</span></a>
<a class="sourceLine" id="cb640-10" data-line-number="10">recurring &lt;-<span class="st"> </span><span class="ot">FALSE</span>            <span class="co"># Specify True for a recurring date range</span></a>
<a class="sourceLine" id="cb640-11" data-line-number="11"><span class="co">#yearRange = [2000,2016]      # If recurring = True, set yearRange, change start/end date to MM-DD</span></a></code></pre></div>
<p>To be able to successfully submit a task, the JSON object should be structured in a certain way. The code chunk below uses the information from the previous chunk to create a nested data frame. This nested data frame will be converted to JSON object that can be used to complete the request.</p>
<div class="sourceCode" id="cb641"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb641-1" data-line-number="1"><span class="co"># Create a data frame including the date range for the request</span></a>
<a class="sourceLine" id="cb641-2" data-line-number="2">date &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">startDate =</span> startDate, <span class="dt">endDate =</span> endDate)</a>
<a class="sourceLine" id="cb641-3" data-line-number="3"></a>
<a class="sourceLine" id="cb641-4" data-line-number="4"><span class="co"># Create a list including the projection and add the output format info</span></a>
<a class="sourceLine" id="cb641-5" data-line-number="5">out &lt;-<span class="st"> </span><span class="kw">list</span>(projection )</a>
<a class="sourceLine" id="cb641-6" data-line-number="6"><span class="kw">names</span>(out) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;projection&quot;</span>)</a>
<a class="sourceLine" id="cb641-7" data-line-number="7">out<span class="op">$</span>format<span class="op">$</span>type &lt;-<span class="st"> </span>outFormat</a>
<a class="sourceLine" id="cb641-8" data-line-number="8"></a>
<a class="sourceLine" id="cb641-9" data-line-number="9"><span class="co"># Change the GeoJSON format for successful task submission</span></a>
<a class="sourceLine" id="cb641-10" data-line-number="10">onaq_js<span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>geometry<span class="op">$</span>coordinates &lt;-<span class="st"> </span><span class="kw">list</span>(onaq_js<span class="op">$</span>features[[<span class="dv">1</span>]]<span class="op">$</span>geometry<span class="op">$</span>coordinates)</a>
<a class="sourceLine" id="cb641-11" data-line-number="11"></a>
<a class="sourceLine" id="cb641-12" data-line-number="12">task_info &lt;-<span class="st"> </span><span class="kw">list</span>(date, layers, out, onaq_js)                 <span class="co"># Create a list of data frames </span></a>
<a class="sourceLine" id="cb641-13" data-line-number="13"><span class="kw">names</span>(task_info) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;dates&quot;</span>, <span class="st">&quot;layers&quot;</span>, <span class="st">&quot;output&quot;</span>, <span class="st">&quot;geo&quot;</span>)       <span class="co"># Assign names</span></a>
<a class="sourceLine" id="cb641-14" data-line-number="14"></a>
<a class="sourceLine" id="cb641-15" data-line-number="15">task &lt;-<span class="st"> </span><span class="kw">list</span>(task_info, taskName, taskType)                     <span class="co"># Create a nested list </span></a>
<a class="sourceLine" id="cb641-16" data-line-number="16"><span class="kw">names</span>(task) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;params&quot;</span>, <span class="st">&quot;task_name&quot;</span>, <span class="st">&quot;task_type&quot;</span>)            <span class="co"># Assign names  </span></a></code></pre></div>
<p><code>toJSON</code> function from <code>jsonlite</code> package converts the type of data frame to a string that can be recognized as a JSON object to be submitted as an area request.</p>
<div class="sourceCode" id="cb642"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb642-1" data-line-number="1">task_json &lt;-<span class="st"> </span>jsonlite<span class="op">::</span><span class="kw">toJSON</span>(task,<span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>, <span class="dt">digits =</span> <span class="dv">10</span>)</a></code></pre></div>
<hr />
</div>
<div id="submit-a-task-request-1" class="section level2">
<h2><span class="header-section-number">7.34</span> Submit a Task Request</h2>
<p>Token information is needed to submit a request. Below the login token is assigned to a variable.</p>
<div class="sourceCode" id="cb643"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb643-1" data-line-number="1">token &lt;-<span class="st"> </span><span class="kw">paste</span>(<span class="st">&quot;Bearer&quot;</span>, <span class="kw">fromJSON</span>(token_response)<span class="op">$</span>token)     <span class="co"># Save login token to a variable</span></a></code></pre></div>
<p>Below, post a call to the API task service, using the <code>task_json</code> created above.</p>
<div class="sourceCode" id="cb644"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb644-1" data-line-number="1"><span class="co"># Post the point request to the API task service</span></a>
<a class="sourceLine" id="cb644-2" data-line-number="2">response &lt;-<span class="st"> </span><span class="kw">POST</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;task&quot;</span>), <span class="dt">body =</span> task_json , <span class="dt">encode =</span> <span class="st">&quot;json&quot;</span>, </a>
<a class="sourceLine" id="cb644-3" data-line-number="3">                 <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token, <span class="st">&quot;Content-Type&quot;</span> =<span class="st"> &quot;application/json&quot;</span>))</a>
<a class="sourceLine" id="cb644-4" data-line-number="4"></a>
<a class="sourceLine" id="cb644-5" data-line-number="5">task_content &lt;-<span class="st"> </span><span class="kw">content</span>(response)                           <span class="co"># Retrieve content of the request </span></a>
<a class="sourceLine" id="cb644-6" data-line-number="6">task_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(task_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)    <span class="co"># Convert the content to JSON and prettify it</span></a>
<a class="sourceLine" id="cb644-7" data-line-number="7"><span class="kw">prettify</span>(task_response)                                     <span class="co"># Print the task response</span></a></code></pre></div>
<p>A JSON downloaded from a previous request containing the information from that request can also be used if available</p>
<div class="sourceCode" id="cb645"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb645-1" data-line-number="1"><span class="co"># task &lt;- jsonlite::toJSON(jsonlite::read_json(&quot;LST-request.json&quot;), digits = 10, auto_unbox = TRUE)</span></a>
<a class="sourceLine" id="cb645-2" data-line-number="2"><span class="co"># response &lt;- POST(paste0(API_URL,&quot;task&quot;), body = task, encode = &quot;json&quot;, </span></a>
<a class="sourceLine" id="cb645-3" data-line-number="3"><span class="co">#                        add_headers(Authorization = token, &quot;Content-Type&quot; = &quot;application/json&quot;))</span></a>
<a class="sourceLine" id="cb645-4" data-line-number="4"><span class="co"># task_response &lt;- prettify(toJSON(content(response), auto_unbox = TRUE))</span></a>
<a class="sourceLine" id="cb645-5" data-line-number="5"><span class="co"># task_response</span></a></code></pre></div>
<hr />
</div>
<div id="retrieve-task-status-1" class="section level2">
<h2><span class="header-section-number">7.35</span> Retrieve Task Status</h2>
<p>This API call will list all of the requests associated with your user account, automatically sorted by date descending with the most recent requests listed first.
The AppEEARS API contains some helpful formatting resources. Below, limit the API response to 2 entries for the last 2 requests and set pretty to True to format the response as an organized JSON, making it easier to read. Additional information on AppEEARS API
<a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#retrieve-task">retrieve task</a>, <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#pagination">pagination</a>, and <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#formatting">formatting</a> can be found in the API documentation.</p>
<div class="sourceCode" id="cb646"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb646-1" data-line-number="1">params &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">limit =</span> <span class="dv">2</span>, <span class="dt">pretty =</span> <span class="ot">TRUE</span>)                            <span class="co"># Set up query parameters</span></a>
<a class="sourceLine" id="cb646-2" data-line-number="2"><span class="co"># Request the task status of last 2 requests from task URL</span></a>
<a class="sourceLine" id="cb646-3" data-line-number="3">response_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;task&quot;</span>), <span class="dt">query =</span> params, <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb646-4" data-line-number="4">response_content &lt;-<span class="st"> </span><span class="kw">content</span>(response_req)                           <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb646-5" data-line-number="5">status_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)      <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb646-6" data-line-number="6"><span class="kw">remove</span>(response_req, response_content)                              <span class="co"># Remove the variables that are not needed anymore     </span></a>
<a class="sourceLine" id="cb646-7" data-line-number="7"><span class="kw">prettify</span>(status_response)                                           <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;message&quot;: &quot;You don&#39;t have the permission to access the requested resource. It is either read-protected or not readable by the server.&quot;
## }
## </code></pre>
<p>The task_id that was generated when submitting your request can also be used to retrieve a task status.
Notice, this could get longer because of the number of vertices in the shapefile that will be printed.</p>
<div class="sourceCode" id="cb648"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb648-1" data-line-number="1"><span class="co"># task_id &lt;- fromJSON(task_response)$task_id                 # Extract the task_id of submitted point request</span></a>
<a class="sourceLine" id="cb648-2" data-line-number="2"><span class="co"># # Request the task status of a task with the provided task_id from task URL</span></a>
<a class="sourceLine" id="cb648-3" data-line-number="3"><span class="co"># status_req &lt;- GET(paste0(API_URL,&quot;task/&quot;, task_id), add_headers(Authorization = token)) </span></a>
<a class="sourceLine" id="cb648-4" data-line-number="4"><span class="co"># status_content &lt;- content(status_req)                       # Retrieve content of the request       </span></a>
<a class="sourceLine" id="cb648-5" data-line-number="5"><span class="co"># statusResponse &lt;-toJSON(status_content, auto_unbox = TRUE)  # Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb648-6" data-line-number="6"><span class="co"># remove(status_req, status_content)                          # Remove the variables that are not needed </span></a>
<a class="sourceLine" id="cb648-7" data-line-number="7"><span class="co"># prettify(statusResponse)                                    # Print the prettified response</span></a></code></pre></div>
<p>Retrieve the task status every 60 seconds. The task status should be <code>done</code> to be able to download the output.</p>
<div class="sourceCode" id="cb649"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb649-1" data-line-number="1"><span class="co"># Request the task status of last request from task URL</span></a>
<a class="sourceLine" id="cb649-2" data-line-number="2">stat_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL,<span class="st">&quot;task&quot;</span>), <span class="dt">query =</span> <span class="kw">list</span>(<span class="dt">limit =</span> <span class="dv">1</span>), <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb649-3" data-line-number="3">stat_content &lt;-<span class="st"> </span><span class="kw">content</span>(stat_req)                           <span class="co"># Retrieve content of the request</span></a>
<a class="sourceLine" id="cb649-4" data-line-number="4">stat_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(stat_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)    <span class="co"># Convert the content to JSON object</span></a>
<a class="sourceLine" id="cb649-5" data-line-number="5">stat &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(stat_response)<span class="op">$</span>status                      <span class="co"># Assign the task status to a variable</span></a>
<a class="sourceLine" id="cb649-6" data-line-number="6"><span class="kw">remove</span>(stat_req, stat_content)                              <span class="co"># Remove the variables that are not needed      </span></a></code></pre></div>
<hr />
</div>
<div id="download-a-request-1" class="section level2">
<h2><span class="header-section-number">7.36</span> Download a Request</h2>
<div id="explore-files-in-request-output-1" class="section level3">
<h3><span class="header-section-number">7.36.1</span> Explore Files in Request Output</h3>
<p>Before downloading the request output, examine the files contained in the request output.</p>
<div class="sourceCode" id="cb650"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb650-1" data-line-number="1">task_id &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(task_response)[[<span class="dv">1</span>]]</a>
<a class="sourceLine" id="cb650-2" data-line-number="2">response &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id), <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb650-3" data-line-number="3">bundle_response &lt;-<span class="st"> </span><span class="kw">prettify</span>(<span class="kw">toJSON</span>(<span class="kw">content</span>(response), <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>))</a></code></pre></div>
<hr />
</div>
</div>
<div id="download-files-in-a-request-automation-1" class="section level2">
<h2><span class="header-section-number">7.37</span> Download Files in a Request (Automation)</h2>
<p>The bundle API provides information about completed tasks. For any completed task, a bundle can be queried to return the files contained as a part of the task request. Below, call the bundle API and return all of the output files. Next, read the contents of the bundle in JSON format and loop through file_id to automate downloading all of the output files into the output directory. For more information, please see <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#bundle">AppEEARS API Documentation</a>.</p>
<div class="sourceCode" id="cb651"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb651-1" data-line-number="1">bundle &lt;-<span class="st"> </span><span class="kw">fromJSON</span>(bundle_response)<span class="op">$</span>files</a>
<a class="sourceLine" id="cb651-2" data-line-number="2"><span class="cf">for</span> (id <span class="cf">in</span> bundle<span class="op">$</span>file_id){</a>
<a class="sourceLine" id="cb651-3" data-line-number="3">  <span class="co"># retrieve the filename from the file_id</span></a>
<a class="sourceLine" id="cb651-4" data-line-number="4">  filename &lt;-<span class="st"> </span>bundle[bundle<span class="op">$</span>file_id <span class="op">==</span><span class="st"> </span>id,]<span class="op">$</span>file_name           </a>
<a class="sourceLine" id="cb651-5" data-line-number="5">  <span class="co"># create a destination directory to store the file in</span></a>
<a class="sourceLine" id="cb651-6" data-line-number="6">  filepath &lt;-<span class="st"> </span><span class="kw">paste</span>(outDir,filename, <span class="dt">sep =</span> <span class="st">&quot;/&quot;</span>)</a>
<a class="sourceLine" id="cb651-7" data-line-number="7">  <span class="kw">suppressWarnings</span>(<span class="kw">dir.create</span>(<span class="kw">dirname</span>(filepath)))</a>
<a class="sourceLine" id="cb651-8" data-line-number="8">  <span class="co"># write the file to disk using the destination directory and file name </span></a>
<a class="sourceLine" id="cb651-9" data-line-number="9">  response &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;bundle/&quot;</span>, task_id, <span class="st">&quot;/&quot;</span>, id), </a>
<a class="sourceLine" id="cb651-10" data-line-number="10">                  <span class="kw">write_disk</span>(filepath, <span class="dt">overwrite =</span> <span class="ot">TRUE</span>), <span class="kw">progress</span>(),</a>
<a class="sourceLine" id="cb651-11" data-line-number="11">                  <span class="kw">add_headers</span>(<span class="dt">Authorization =</span> token))</a>
<a class="sourceLine" id="cb651-12" data-line-number="12">}</a></code></pre></div>
<p>Now, take a look at “R_output” directory. Separate folders are made for each product and the outputs are saved in these folders.</p>
<div class="sourceCode" id="cb652"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb652-1" data-line-number="1"><span class="co"># List of directories in the R_output directory</span></a>
<a class="sourceLine" id="cb652-2" data-line-number="2"><span class="kw">list.dirs</span>(outDir)</a></code></pre></div>
<pre><code>##  [1] &quot;./data/&quot;                                                                                     
##  [2] &quot;./data//__MACOSX&quot;                                                                            
##  [3] &quot;./data//__MACOSX/All_NEON_TOS_Plots_V8&quot;                                                      
##  [4] &quot;./data//All_NEON_TOS_Plots_V8&quot;                                                               
##  [5] &quot;./data//AOP&quot;                                                                                 
##  [6] &quot;./data//AOPTerrestrial&quot;                                                                      
##  [7] &quot;./data//AOPTerrestrial 2&quot;                                                                    
##  [8] &quot;./data//DP1.30003.001&quot;                                                                       
##  [9] &quot;./data//DP1.30003.001/2017&quot;                                                                  
## [10] &quot;./data//DP1.30003.001/2017/FullSite&quot;                                                         
## [11] &quot;./data//DP1.30003.001/2017/FullSite/D16&quot;                                                     
## [12] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1&quot;                                         
## [13] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/L1&quot;                                      
## [14] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/L1/DiscreteLidar&quot;                        
## [15] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/L1/DiscreteLidar/ClassifiedPointCloud&quot;   
## [16] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/Metadata&quot;                                
## [17] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar&quot;                  
## [18] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary&quot;     
## [19] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/kmls&quot;
## [20] &quot;./data//DP1.30003.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps&quot;
## [21] &quot;./data//DP3.30015.001&quot;                                                                       
## [22] &quot;./data//DP3.30015.001/2017&quot;                                                                  
## [23] &quot;./data//DP3.30015.001/2017/FullSite&quot;                                                         
## [24] &quot;./data//DP3.30015.001/2017/FullSite/D16&quot;                                                     
## [25] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1&quot;                                         
## [26] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/L3&quot;                                      
## [27] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/L3/DiscreteLidar&quot;                        
## [28] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/L3/DiscreteLidar/CanopyHeightModelGtif&quot;  
## [29] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/Metadata&quot;                                
## [30] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar&quot;                  
## [31] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary&quot;     
## [32] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/kmls&quot;
## [33] &quot;./data//DP3.30015.001/2017/FullSite/D16/2017_WREF_1/Metadata/DiscreteLidar/TileBoundary/shps&quot;
## [34] &quot;./data//filesToStack00200&quot;                                                                   
## [35] &quot;./data//NEON_TOS&quot;                                                                            
## [36] &quot;./data//pointreyes&quot;                                                                          
## [37] &quot;./data//pointreyesclear&quot;                                                                     
## [38] &quot;./data//pointreyesfoggy&quot;                                                                     
## [39] &quot;./data//SJER&quot;                                                                                
## [40] &quot;./data//SOAP&quot;</code></pre>
<p>Below, the list of relative path and file names is assigned to a variable and part of the list is printed.</p>
<div class="sourceCode" id="cb654"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb654-1" data-line-number="1">relative_path &lt;-<span class="st"> </span>bundle<span class="op">$</span>file_name            <span class="co"># Assign relative path to a variable</span></a></code></pre></div>
<p>Later in this tutorial, the <code>SRTMGL1_NC</code> GeoTIFF is loaded for visulalization. Below, the directory to this file is assigned to a variable.</p>
<div class="sourceCode" id="cb655"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb655-1" data-line-number="1">SRTMGL1_NC_dir &lt;-<span class="st"> </span>(<span class="st">&#39;./data/NASADEM_NC.001_NASADEM_HGT_doy2000042_aid0001.tif&#39;</span>)           <span class="co"># Assign absolute path to a variable</span></a>
<a class="sourceLine" id="cb655-2" data-line-number="2">SRTMGL1_NC_dir                                                             <span class="co"># Print the absolute path</span></a></code></pre></div>
<pre><code>## [1] &quot;./data/NASADEM_NC.001_NASADEM_HGT_doy2000042_aid0001.tif&quot;</code></pre>
<hr />
</div>
<div id="explore-appeears-quality-service-1" class="section level2">
<h2><span class="header-section-number">7.38</span> Explore AppEEARS Quality Service</h2>
<p>The quality API provides quality details about all of the data products available in AppEEARS. Below are examples of how to query the quality API for listing quality products, layers, and values. The final example (<a href="#decode">Section 5c.</a>) demonstrates how AppEEARS quality services can be leveraged to decode pertinent quality values for your data. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a></p>
<p>First, reset pagination to include offset which allows you to set the number of results to skip before starting to return entries. Next, make a call to list all of the data product layers and the associated quality product and layer information.</p>
<div class="sourceCode" id="cb657"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb657-1" data-line-number="1">params &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">limit =</span> <span class="dv">6</span>, <span class="dt">offset =</span> <span class="dv">20</span>, <span class="dt">pretty =</span> <span class="ot">TRUE</span>)          <span class="co"># Assign query to a variable</span></a>
<a class="sourceLine" id="cb657-2" data-line-number="2"><span class="co"># Request the specified quality layer info from quality API</span></a>
<a class="sourceLine" id="cb657-3" data-line-number="3">quality_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality&quot;</span>), <span class="dt">query =</span> params)</a>
<a class="sourceLine" id="cb657-4" data-line-number="4">quality_content &lt;-<span class="st"> </span><span class="kw">content</span>(quality_req)                        <span class="co"># Retrieve the content of request</span></a>
<a class="sourceLine" id="cb657-5" data-line-number="5">quality_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(quality_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>) <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb657-6" data-line-number="6"><span class="kw">remove</span>(quality_req, quality_content)                           <span class="co"># Remove the variables that are not needed </span></a>
<a class="sourceLine" id="cb657-7" data-line-number="7"><span class="kw">prettify</span>(quality_response)</a></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB1&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB2&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB3&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB4&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB5&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;Layer&quot;: &quot;SRB7&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;CU_LT05.001&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;PIXELQA&quot;
##         ]
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="list-quality-layers-1" class="section level2">
<h2><span class="header-section-number">7.39</span> List Quality Layers</h2>
<p>This API call will list all of the quality layer information for a product. For more information visit <a href="https://lpdaacsvc.cr.usgs.gov/appeears/api/?language=R#quality">AppEEARS API documentation</a></p>
<div class="sourceCode" id="cb659"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb659-1" data-line-number="1">productAndVersion &lt;-<span class="st"> &#39;MCD15A3H.006&#39;</span>                                  <span class="co"># Assign productAndVersion to a variable</span></a>
<a class="sourceLine" id="cb659-2" data-line-number="2">MCD15A3H_q_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion))<span class="co"># Request quality info for a product</span></a>
<a class="sourceLine" id="cb659-3" data-line-number="3">MCD15A3H_q_content &lt;-<span class="st"> </span><span class="kw">content</span>(MCD15A3H_q_req)                        <span class="co"># Retrieve the content of request</span></a>
<a class="sourceLine" id="cb659-4" data-line-number="4">MCD15A3H_quality &lt;-<span class="st"> </span><span class="kw">toJSON</span>(MCD15A3H_q_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)    <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb659-5" data-line-number="5"><span class="kw">remove</span>(MCD15A3H_q_req, MCD15A3H_q_content)</a>
<a class="sourceLine" id="cb659-6" data-line-number="6"><span class="kw">prettify</span>(MCD15A3H_quality)</a></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Fpar_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;FparStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;Lai_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;Layer&quot;: &quot;LaiStdDev_500m&quot;,
##         &quot;QualityProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayers&quot;: [
##             &quot;FparLai_QC&quot;,
##             &quot;FparExtra_QC&quot;
##         ]
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="show-quality-values" class="section level2">
<h2><span class="header-section-number">7.40</span> Show Quality Values</h2>
<p>This API call will list all of the values for a given quality layer.</p>
<div class="sourceCode" id="cb661"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb661-1" data-line-number="1">quality_layer &lt;-<span class="st"> &#39;FparLai_QC&#39;</span>                                 <span class="co"># assign a quality layer to a variable</span></a>
<a class="sourceLine" id="cb661-2" data-line-number="2"><span class="co"># Request the specified quality layer info from quality API</span></a>
<a class="sourceLine" id="cb661-3" data-line-number="3">quality_req &lt;-<span class="st"> </span><span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>,  productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="dt">sep =</span> <span class="st">&quot;&quot;</span>))</a>
<a class="sourceLine" id="cb661-4" data-line-number="4">quality_content &lt;-<span class="st"> </span><span class="kw">content</span>(quality_req)                        <span class="co"># Retrieve the content of request</span></a>
<a class="sourceLine" id="cb661-5" data-line-number="5">quality_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(quality_content, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>) <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb661-6" data-line-number="6"><span class="kw">remove</span>(quality_req, quality_content)                           <span class="co"># Remove the variables that are not needed </span></a>
<a class="sourceLine" id="cb661-7" data-line-number="7"><span class="kw">prettify</span>(quality_response)                                     <span class="co"># Print the quality response as a data frame</span></a></code></pre></div>
<pre><code>## [
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Good quality (main algorithm with or without saturation)&quot;,
##         &quot;Acceptable&quot;: true
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;MODLAND&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;,
##         &quot;Acceptable&quot;: false
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Terra&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;Sensor&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Aqua&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;DeadDetector&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Dead detectors caused &gt;50% adjacent detector retrieval&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Significant clouds NOT present (clear)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Significant clouds WERE present&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Mixed cloud present in pixel&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;CloudState&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Cloud state not defined, assumed clear&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 0,
##         &quot;Description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 1,
##         &quot;Description&quot;: &quot;Main (RT) method used with saturation. Good, very usable&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 2,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to bad geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 3,
##         &quot;Description&quot;: &quot;Main (RT) method failed due to problems other than geometry, empirical algorithm used&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     },
##     {
##         &quot;ProductAndVersion&quot;: &quot;MCD15A3H.006&quot;,
##         &quot;QualityLayer&quot;: &quot;FparLai_QC&quot;,
##         &quot;Name&quot;: &quot;SCF_QC&quot;,
##         &quot;Value&quot;: 4,
##         &quot;Description&quot;: &quot;Pixel not produced at all, value couldn&#39;t be retrieved (possible reasons: bad L1B data, unusable MOD09GA data)&quot;,
##         &quot;Acceptable&quot;: {
## 
##         }
##     }
## ]
## </code></pre>
<hr />
</div>
<div id="decode-quality-values-1" class="section level2">
<h2><span class="header-section-number">7.41</span> Decode Quality Values</h2>
<p>This API call will decode the bits for a given quality value.</p>
<div class="sourceCode" id="cb663"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb663-1" data-line-number="1">quality_value &lt;-<span class="st"> </span><span class="dv">1</span>                        <span class="co"># Assign a quality value to a variable </span></a>
<a class="sourceLine" id="cb663-2" data-line-number="2"><span class="co"># Request and retrieve information for provided quality value from quality API URL </span></a>
<a class="sourceLine" id="cb663-3" data-line-number="3">response &lt;-<span class="st"> </span><span class="kw">content</span>(<span class="kw">GET</span>(<span class="kw">paste0</span>(API_URL, <span class="st">&quot;quality/&quot;</span>, productAndVersion, <span class="st">&quot;/&quot;</span>, quality_layer, <span class="st">&quot;/&quot;</span>, quality_value)))</a>
<a class="sourceLine" id="cb663-4" data-line-number="4">q_response &lt;-<span class="st"> </span><span class="kw">toJSON</span>(response, <span class="dt">auto_unbox =</span> <span class="ot">TRUE</span>)     <span class="co"># Convert the info to JSON object</span></a>
<a class="sourceLine" id="cb663-5" data-line-number="5"><span class="kw">remove</span>(response)                                      <span class="co"># Remove the variables that are not needed anymore</span></a>
<a class="sourceLine" id="cb663-6" data-line-number="6"><span class="kw">prettify</span>(q_response)                                  <span class="co"># Print the prettified response</span></a></code></pre></div>
<pre><code>## {
##     &quot;Binary Representation&quot;: &quot;0b00000001&quot;,
##     &quot;MODLAND&quot;: {
##         &quot;bits&quot;: &quot;0b1&quot;,
##         &quot;description&quot;: &quot;Other Quality (back-up algorithm or fill values)&quot;
##     },
##     &quot;Sensor&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Terra&quot;
##     },
##     &quot;DeadDetector&quot;: {
##         &quot;bits&quot;: &quot;0b0&quot;,
##         &quot;description&quot;: &quot;Detectors apparently fine for up to 50% of channels 1, 2&quot;
##     },
##     &quot;CloudState&quot;: {
##         &quot;bits&quot;: &quot;0b00&quot;,
##         &quot;description&quot;: &quot;Significant clouds NOT present (clear)&quot;
##     },
##     &quot;SCF_QC&quot;: {
##         &quot;bits&quot;: &quot;0b000&quot;,
##         &quot;description&quot;: &quot;Main (RT) method used, best result possible (no saturation)&quot;
##     }
## }
## </code></pre>
<hr />
</div>
<div id="bonus-load-request-output-and-visualize" class="section level2">
<h2><span class="header-section-number">7.42</span> BONUS: Load Request Output and Visualize</h2>
<p>Here, load one of the output GeoTIFFs and show some basic visualizations using the <code>rasterVis</code> and <code>ggplot2</code> packages.</p>
</div>
<div id="load-a-geotiff" class="section level2">
<h2><span class="header-section-number">7.43</span> Load a GeoTIFF</h2>
<p>First, created a raster object by calling the raster() function from the <code>raster</code> package.</p>
<div class="sourceCode" id="cb665"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb665-1" data-line-number="1"><span class="co"># Create a raster object using the directory previously extracted</span></a>
<a class="sourceLine" id="cb665-2" data-line-number="2">dem &lt;-<span class="st"> </span><span class="kw">raster</span>(SRTMGL1_NC_dir)</a></code></pre></div>
<hr />
</div>
<div id="plot-a-geotiff" class="section level2">
<h2><span class="header-section-number">7.44</span> Plot a GeoTIFF</h2>
<p>Make a plot of DEM data and add some additional parameters to the plot.</p>
<div class="sourceCode" id="cb666"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb666-1" data-line-number="1"><span class="kw">gplot</span>(dem) <span class="op">+</span></a>
<a class="sourceLine" id="cb666-2" data-line-number="2"><span class="st">  </span><span class="kw">geom_raster</span>(<span class="kw">aes</span>(<span class="dt">fill =</span> value)) <span class="op">+</span></a>
<a class="sourceLine" id="cb666-3" data-line-number="3"><span class="st">  </span><span class="kw">scale_fill_distiller</span>(<span class="dt">name =</span> <span class="st">&quot;Elevation (m)&quot;</span>, <span class="dt">palette =</span> <span class="st">&quot;BrBG&quot;</span>, <span class="dt">na.value=</span><span class="ot">NA</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb666-4" data-line-number="4"><span class="st">  </span><span class="kw">coord_fixed</span>(<span class="dt">expand =</span> F, <span class="dt">ratio =</span> <span class="dv">1</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb666-5" data-line-number="5"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;SRTM DEM: NEON SOAP&quot;</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb666-6" data-line-number="6"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">plot.title =</span> <span class="kw">element_text</span>(<span class="dt">face =</span> <span class="st">&quot;bold&quot;</span>,<span class="dt">size =</span> <span class="kw">rel</span>(<span class="dv">2</span>),<span class="dt">hjust =</span> <span class="fl">0.5</span>),</a>
<a class="sourceLine" id="cb666-7" data-line-number="7">        <span class="dt">axis.title.x =</span> <span class="kw">element_blank</span>(), </a>
<a class="sourceLine" id="cb666-8" data-line-number="8">        <span class="dt">axis.title.y =</span> <span class="kw">element_blank</span>(),</a>
<a class="sourceLine" id="cb666-9" data-line-number="9">        <span class="dt">panel.border =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="ot">NA</span> , <span class="dt">color =</span> <span class="st">&quot;black&quot;</span>, <span class="dt">size =</span> <span class="fl">0.8</span>),</a>
<a class="sourceLine" id="cb666-10" data-line-number="10">        <span class="dt">panel.background =</span> <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="dt">colour =</span> <span class="st">&quot;#6D9EC1&quot;</span>,<span class="dt">size =</span> <span class="dv">2</span>, <span class="dt">linetype =</span> <span class="st">&quot;solid&quot;</span>),</a>
<a class="sourceLine" id="cb666-11" data-line-number="11">        <span class="dt">panel.grid.major =</span> <span class="kw">element_line</span>(<span class="dt">size =</span> <span class="fl">0.001</span>, <span class="dt">linetype =</span> <span class="st">&#39;solid&#39;</span>,<span class="dt">colour =</span> <span class="st">&quot;gray&quot;</span>),</a>
<a class="sourceLine" id="cb666-12" data-line-number="12">        <span class="dt">panel.grid.minor =</span> <span class="kw">element_line</span>(<span class="dt">size =</span> <span class="fl">0.001</span>, <span class="dt">linetype =</span> <span class="st">&#39;solid&#39;</span>,<span class="dt">colour =</span> <span class="st">&quot;gray&quot;</span>))</a></code></pre></div>
<p><img src="08-NASA_EOS_files/figure-html/unnamed-chunk-81-1.png" width="768" /></p>
<p>This example can provide a template to use for your own research workflows. Leveraging the AppEEARS API for searching, extracting, and formatting analysis ready data, and loading it directly into R means that you can keep your entire research workflow in a single software program, from start to finish.</p>
</div>
<div id="nasa-eos-coding-lab-2" class="section level2">
<h2><span class="header-section-number">7.45</span> NASA EOS Coding Lab #2</h2>
<ol style="list-style-type: decimal">
<li><p>Choose two NEON sites in <em>different</em> ecoregions. Then complete the following for <strong>each</strong> of your two NEON sites:</p></li>
<li><p>Using your Earth Data account submit a point-based request to AppEEARS to pull 250m NDVI from AQUA and TERA for 2017, 2018, &amp; 2019.</p></li>
</ol>
<p><em>Hint: How might you decide on the lat/lon to submit? Metadata for the site? NEON TOS data?</em></p>
<ol start="3" style="list-style-type: decimal">
<li>Use QA/QC values to filter out ‘poor quality’.</li>
</ol>
<p><em>Hint: Look at the QA/QC files that accompany your request</em></p>
<ol start="4" style="list-style-type: decimal">
<li><p>Plot 3 years of NDVI from MODIS AQUA and TERA as a timeseries.</p></li>
<li><p>Constrain a 3-week window for ‘peak greeness’ from MODIS and highlight it on your timeseries plot.</p></li>
<li><p>Pull the canopy-level gcc90 from PhenoCam for the same site and the same time period as above.</p></li>
</ol>
<p><em>Hint: Check the numbering of your PhenoCam on the <a href="https://phenocam.sr.unh.edu/webcam/gallery/">PhenoCam gallery</a> </em></p>
<ol start="7" style="list-style-type: decimal">
<li><p>Plot the PhenoCam and MODIS timeseries on the same plot.</p></li>
<li><p>Constrain a 3-week window for ‘peak greeness’ from PhenoCam and highlight it on your timeseries.
<em>Hint: Remember our PhenoCam discussions regarding early ‘extra green’ leaves? You’ll need to use some logic for this, not just a <code>max</code> </em></p></li>
<li><p>Find the timing of the AOP flights that have occured at your sites over the same time period. Add those dates as a vertical line.</p></li>
</ol>
<p><strong>BONUS:</strong> If you’d like to submit an area-based request instead you can do so using the shapefiles for each NEON site <a href="https://drive.google.com/drive/folders/19MJee-UKY-McbxDuYYCINhWRbqn4bbGO?usp=sharing">in this folder</a></p>
</div>
<div id="nasa-eos-written-questions" class="section level2">
<h2><span class="header-section-number">7.46</span> NASA EOS Written Questions</h2>
<ol style="list-style-type: decimal">
<li>How does the scientific method of Earth Science differ from that of traditional/classical labratory sciences?</li>
</ol>
</div>
<div id="nasa-eos-culmination-write-up" class="section level2">
<h2><span class="header-section-number">7.47</span> NASA EOS Culmination Write Up</h2>
<p>Write up a 1-page <strong>derived data product or research pipeline proposal</strong> summary of a project that you might want to explore using NASA EOS data. Include the types of data that you would need to implement this project and how you would retrieve them. Save this summary as you will be refining and adding to your ideas over the course of the semester.</p>
<p>Suggestions:</p>
<ol style="list-style-type: decimal">
<li><p>Tables or bullet lists of <strong>specific</strong> data products</p></li>
<li><p>An <strong>overarching high-quality figure</strong> to show how these data align</p></li>
<li><p>One paragraph summarizing <em>how</em> this data or analysis is useful to <strong>you and/or the infrastructure</strong>.</p></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="neon-aop.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="usgs-national-water-information-system-nwis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"],
"google": false,
"instapper": false
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/katharynduffy/katharynduffy.github.io/edit/master/08-NASA_EOS.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Environmental Informatics Using Research Infrastructures and their Data.pdf", "Environmental Informatics Using Research Infrastructures and their Data.epub"],
"toc": {
"collapse": "subsection"
},
"search": true
});
});
</script>

</body>

</html>
